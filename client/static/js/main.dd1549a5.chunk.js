(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e){e.exports=JSON.parse('{"a":"","b":{"urlNewOrder":"/new_order","urlGetProdOrders":"/orders","urlGetControlOrders":"/orders","urlGetUsers":"/users","urlNumberOrder":"/get_number_order","urlRegistration":"/registration","urlLogin":"/login","urlAuth":"/auth","urlSaveUserTable":"/save_data/users","urlGetInvoices":"/invoices","urlGetInvoiceDOCX":"/get_invoice","urlPostInvoiceDeliverBack":"/new_invoice_deliver_back","urlSendInvoiceChanges":"/save_data/invoice"}}')},117:function(e,t,a){},122:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(28),s=a.n(r),c=a(20),l=a(15),o=a(16),d=a(18),u=a(17),h=a(9),b=a(30),j=a(19),p=(a(117),a(0)),v=a(2);var f=Object(c.b)((function(e){return{user:e.user,auth:e.app.authorization}}),null)((function(e){return Object(v.jsxs)("div",{className:"sidebar",children:[Object(v.jsx)("div",{className:"logo_wrapper",children:Object(v.jsx)(b.b,{to:"/",children:Object(v.jsx)("span",{className:"logo",children:"FornitureWorker"})})}),Object(v.jsx)("ul",{className:"sidebar_ul",children:e.routes.map((function(t){if(t.role_user>=e.user.role&&e.user.active&&e.auth)return Object(v.jsx)("li",{children:Object(v.jsx)(p.b.Provider,{value:{color:"white",className:"icon_header"},children:Object(v.jsxs)(b.b,{to:t.path,children:[t.icon,t.name]})})},t.path)}))})]})})),m=a(215),O=a(21),x=0,g=1,y=3,N=999,_="USER/ADD",k="USER/DELETE",C="USERS/ADD_CHANGE",w="USERS/SAVE_CHANGES",S="APP/AUTH",I="APP/LOGOUT",F="APP/INVOICE_ADD_CHANGE",E="APP/INVOICE_SAVE_CHANGES",A="TABLES/EDIT_CELL",D="TABLES/SAVE_DATA",P=function(e,t,a,n){return{type:_,payload:{login:e,name:t,role:a,active:n}}},R=function(e){return{type:S,payload:e}};a(122);var T=Object(c.b)((function(e){return{user:e.user,auth:e.app.authorization}}),(function(e){return{logoutUser:function(){return e({type:I,payload:!1})},deleteUser:function(){return e({type:k})}}}))((function(e){return Object(v.jsxs)("header",{className:"main_header",children:[e.auth&&Object(v.jsxs)(m.a,{children:[Object(v.jsx)(m.a.Toggle,{variant:"success",id:"dropdown-basic",children:e.user.login}),Object(v.jsxs)(m.a.Menu,{children:[Object(v.jsxs)(b.b,{className:"dropdown-item",to:"/my_settings",children:[Object(v.jsx)(O.c,{style:{marginRight:"5px"}}),"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"]}),Object(v.jsxs)(b.b,{className:"dropdown-item",to:"/",onClick:function(t){e.logoutUser(),e.deleteUser()},children:[Object(v.jsx)(O.g,{style:{marginRight:"5px"}}),"\u0412\u044b\u0439\u0442\u0438"]})]})]}),!e.auth&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(b.b,{className:"btn btn-primary button_login",to:"/registration",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(v.jsx)(b.b,{className:"btn btn-primary button_login",to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})),M=a(3),B=function(e,t){return function(a){Object(d.a)(i,a);var n=Object(u.a)(i);function i(){return Object(l.a)(this,i),n.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){return t?Object(v.jsx)(e,Object(M.a)({},this.props)):Object(v.jsx)(j.a,{to:"/login"})}}]),i}(i.a.Component)},L=a(67),G=a.n(L),U=a(10),V=function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];G.a.get(e,{params:Object(M.a)(Object(M.a)({},t),{},{token:localStorage.getItem("token")}),responseType:i?"blob":"json"}).then((function(e){return a(e.data)})).catch((function(e){return n(e.response)}))},H=function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];G.a.post(e,Object(M.a)(Object(M.a)({},t),{},{token:localStorage.getItem("token")}),{responseType:i?"blob":"json"}).then((function(e){a(e.data)})).catch((function(e){n(e.response)}))},W=function(e,t,a,n){H(U.a+e,{data:t},a,n)},K=function(e,t,a){H(U.a+U.b.urlSaveUserTable,{data:e},t,a)},z=function(e,t,a){V(U.a+U.b.urlGetInvoices,{type:"main",year:e},t,a)},Y=function(e,t,a){V(U.a+U.b.urlGetInvoiceDOCX,{ids:e},t,a,!0)},q=function(e,t,a,n){H(U.a+U.b.urlSendInvoiceChanges,Object(M.a)({data:t},e),a,n)},J=a(216),X=a(100),Q=(a(79),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).login=i.a.createRef(),n.password=i.a.createRef(),n}return Object(o.a)(a,[{key:"onLogin",value:function(e){var t,a,n,i=this;e.preventDefault(),t={login:this.login.current.value,password:this.password.current.value},a=function(e){console.log(e),e.error?h.NotificationManager.warning("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c","\u041e\u0448\u0438\u0431\u043a\u0430",3e3):(localStorage.setItem("token",e.jwt),h.NotificationManager.success("\u0412\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b!","OK",3e3),i.props.addUser(e.login,e.name,e.role,e.active),i.props.authUser(!0),i.props.history.push("/"))},n=function(e){h.NotificationManager.warning("\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435(","\u041e\u0448\u0438\u0431\u043a\u0430",3e3)},H(U.a+U.b.urlLogin,t,a,n)}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"main",children:Object(v.jsxs)(J.a,{className:"login-form",style:{display:"flex",flexDirection:"column",width:"400px"},children:[Object(v.jsx)("h2",{children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(v.jsx)(X.a,{controlId:"floatingInput",label:"\u041b\u043e\u0433\u0438\u043d",className:"mb-12",children:Object(v.jsx)(J.a.Control,{ref:this.login,type:"text",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",name:"login",autoFocus:!0})}),Object(v.jsx)(X.a,{controlId:"floatingInput",label:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"mb-12",children:Object(v.jsx)(J.a.Control,{ref:this.password,type:"password",placeholder:"Login",name:"password"})}),Object(v.jsx)("button",{className:"btn btn-primary",onClick:this.onLogin.bind(this),children:"\u0412\u043e\u0439\u0442\u0438"})]})})}}]),a}(i.a.Component));Q.contextTypes={router:function(){return!0}};var Z=Object(c.b)((function(e){return{auth:e.app.authorization}}),(function(e){return{addUser:function(t,a,n,i){return e(P(t,a,n,i))},authUser:function(t){return e(R(t))}}}))(Q),$=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n.name=i.a.createRef(),n.login=i.a.createRef(),n.role=i.a.createRef(),n.password=i.a.createRef(),n.repeatePassword=i.a.createRef(),n}return Object(o.a)(a,[{key:"validateField",value:function(e,t){switch(e){case"\u0424\u0418\u041e":return t.length>=3;case"\u041b\u043e\u0433\u0438\u043d":return t.length>=4;case"\u041f\u0430\u0440\u043e\u043b\u044c":return t.length>8}}},{key:"onBlurInput",value:function(e,t){console.log(this.validateField(t,e.target.value)),!this.validateField(t,e.target.value)&&h.NotificationManager.warning("\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435: ".concat(t),"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435",2e3)}},{key:"registrationUser",value:function(e){var t=this;(e.preventDefault(),this.repeatePassword.current.value===this.password.current.value)?function(e,t,a){H(U.a+U.b.urlRegistration,e,t,a)}({name:this.name.current.value,login:this.login.current.value,role:this.role.current.value,password:this.password.current.value},(function(e){localStorage.setItem("token",e.jwt),t.props.history.push("/"),h.NotificationManager.success("\u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0432 \u0411\u0414! \u0422\u0435\u043f\u0435\u0440\u044c \u0434\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e\u0431\u044b \u0432\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043b\u0438","\u041e\u043a!",3e3)}),(function(e){return h.NotificationManager.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430!","\u041e\u0448\u0438\u0431\u043a\u0430",3e3)})):h.NotificationManager.warning("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442!","\u041e\u0448\u0438\u0431\u043a\u0430",3e3)}},{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{className:"main",children:Object(v.jsxs)(J.a,{className:"registration-form",style:{display:"flex",flexDirection:"column",width:"400px"},children:[Object(v.jsx)("h2",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(v.jsx)(X.a,{controlId:"floatingInput",label:"\u0424\u0418\u041e",className:"mb-12",children:Object(v.jsx)(J.a.Control,{ref:this.name,type:"text",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",onBlur:function(t){return e.onBlurInput(t,"\u0424\u0418\u041e")},autoFocus:!0})}),Object(v.jsx)(X.a,{controlId:"floatingInput",label:"\u041b\u043e\u0433\u0438\u043d",className:"mb-12",children:Object(v.jsx)(J.a.Control,{ref:this.login,type:"text",placeholder:"Login",onBlur:function(t){return e.onBlurInput(t,"\u041b\u043e\u0433\u0438\u043d")}})}),Object(v.jsxs)(J.a.Select,{name:"",id:"",ref:this.role,children:[Object(v.jsx)("option",{value:"3",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),Object(v.jsx)("option",{value:"2",children:"\u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440"}),Object(v.jsx)("option",{value:"1",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440"}),Object(v.jsx)("option",{value:"0",children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"})]}),Object(v.jsx)(X.a,{controlId:"floatingInput",label:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"mb-12",children:Object(v.jsx)(J.a.Control,{ref:this.password,type:"password",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",onBlur:function(t){return e.onBlurInput(t,"\u041f\u0430\u0440\u043e\u043b\u044c")}})}),Object(v.jsx)(X.a,{controlId:"floatingInput",label:"\u041f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",className:"mb-12",children:Object(v.jsx)(J.a.Control,{ref:this.repeatePassword,type:"password",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",autoFocus:!0})}),Object(v.jsx)("button",{className:"btn btn-primary",onClick:this.registrationUser.bind(this),children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})})}}]),a}(i.a.Component),ee=a(13),te=(a(80),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={id:-1,name:"",count:1,price:0,allPrice:0},n.refColor=i.a.createRef(),n.refMaterial=i.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({id:this.props.id})}},{key:"reCalcAllPrice",value:function(e,t){switch(t){case 0:return this.state.price*e;case 1:return e*this.state.count;default:return 0}}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeCount",value:function(e){this.setState({count:+e.target.value,allPrice:this.reCalcAllPrice(+e.target.value,0)})}},{key:"onChangeMainPrice",value:function(e){this.setState({price:+e.target.value,allPrice:this.reCalcAllPrice(+e.target.value,1)})}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"order_panel",children:[Object(v.jsx)("div",{className:"order_panel_close",onClick:function(t){return e.props.deleteOrderFromArrayById(e.state.id)},children:Object(v.jsx)(O.j,{})}),Object(v.jsxs)("div",{className:"oreder_panel_main_info",children:[Object(v.jsxs)("span",{className:"order_panel_id",children:["#",this.props.id+1]}),Object(v.jsx)(X.a,{style:{width:"40%"},controlId:"floatingInput",label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",className:"mb-12",children:Object(v.jsx)(J.a.Control,{ref:this.name,type:"text",placeholder:"\u0421\u0442\u0443\u043b",onChange:this.onChangeName.bind(this),required:!0})}),Object(v.jsxs)(J.a.Select,{style:{width:"12%"},ref:this.refMaterial,"aria-label":"Default select example",className:"order_panel_select select_material",children:[Object(v.jsx)("option",{children:"\u041c\u0430\u0442\u0435\u0440."}),Object(v.jsx)("option",{value:"\u0421\u043e\u0441\u043d\u0430",children:"\u0421\u043e\u0441\u043d\u0430"}),Object(v.jsx)("option",{value:"\u0411\u0435\u0440\u0435\u0437\u0430",children:"\u0411\u0435\u0440\u0435\u0437\u0430"}),Object(v.jsx)("option",{value:"\u0411\u0443\u043a",children:"\u0411\u0443\u043a"}),Object(v.jsx)("option",{value:"\u0414\u0443\u0431",children:"\u0414\u0443\u0431"}),Object(v.jsx)("option",{value:"\u042f\u0441\u0435\u043d\u044c",children:"\u042f\u0441\u0435\u043d\u044c"})]}),Object(v.jsxs)(J.a.Select,{style:{width:"10%"},ref:this.refColor,"aria-label":"Default select example",className:"order_panel_select select_color",children:[Object(v.jsx)("option",{children:"\u0426\u0432\u0435\u0442"}),Object(v.jsx)("option",{value:"\u043b\u0430\u043a",children:"\u043b\u0430\u043a"}),Object(v.jsx)("option",{value:"\u0412\u0435\u043d\u0433\u0435-1",children:"\u0412\u0435\u043d\u0433\u0435-1"}),Object(v.jsx)("option",{value:"\u0412\u0435\u043d\u0433\u0435-2",children:"\u0412\u0435\u043d\u0433\u0435-2"}),Object(v.jsx)("option",{value:"\u0412\u0435\u043d\u0433\u0435-3",children:"\u0412\u0435\u043d\u0433\u0435-3"})]}),Object(v.jsx)(X.a,{style:{width:"8%"},controlId:"floatingInput",label:"\u041a\u043e\u043b",className:"mb-12",children:Object(v.jsx)(J.a.Control,{ref:this.count,type:"number",placeholder:"4",defaultValue:1,onChange:this.onChangeCount.bind(this),required:!0})}),Object(v.jsx)(X.a,{style:{width:"14%"},controlId:"floatingInput",label:"\u0426\u0435\u043d\u0430",className:"mb-12",children:Object(v.jsx)(J.a.Control,{ref:this.price,type:"number",placeholder:"540",defaultValue:0,onChange:this.onChangeMainPrice.bind(this),required:!0})}),Object(v.jsx)(X.a,{style:{width:"14%"},controlId:"floatingInput",label:"\u0421\u0443\u043c\u043c\u0430",className:"mb-12",children:Object(v.jsx)(J.a.Control,{disabled:!0,ref:this.price,type:"number",placeholder:"540",value:this.state.price*this.state.count,onChange:this.onChangeMainPrice.bind(this),required:!0})}),Object(v.jsx)("button",{className:"btn btn-primary apply_order",onClick:function(t){return e.props.addOrderToArray(t,Object(M.a)(Object(M.a)({},e.state),{},{color:e.refColor.current.value,material:e.refMaterial.current.value}))},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})}}]),a}(i.a.Component)),ae=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).stateOrderPanel={id:0,name:"",size:"",count:0,price:0,allPrice:0},n.state={additional_info_active:!1,numberOrder:0,additional:{delivery:!1,assembly:!1,entering:!1,assemblyAndEntering:!1},orders:[n.stateOrderPanel],allPrice:0,validatation:[]},n.client_name=i.a.createRef(),n.client_phone=i.a.createRef(),n.client_address=i.a.createRef(),n.siteName=i.a.createRef(),n.week=i.a.createRef(),n.dateDelivery=i.a.createRef(),n.year=i.a.createRef(),n.delivery_price=i.a.createRef(),n.assembly_price=i.a.createRef(),n.entering_price=i.a.createRef(),n.assemblyAndEntering_price=i.a.createRef(),n}return Object(o.a)(a,[{key:"onClickAddOrder",value:function(e){this.setState({orders:[].concat(Object(ee.a)(this.state.orders),[this.stateOrderPanel])})}},{key:"onClickAdditionalInfo",value:function(){this.setState({additional_info_active:!this.state.additional_info_active})}},{key:"onChangeDelivery",value:function(e){this.setState({additional:Object(M.a)(Object(M.a)({},this.state.additional),{},{delivery:e.target.checked})})}},{key:"onChangeAssembly",value:function(e){this.setState({additional:Object(M.a)(Object(M.a)({},this.state.additional),{},{assembly:e.target.checked})})}},{key:"onChangeEntering",value:function(e){this.setState({additional:Object(M.a)(Object(M.a)({},this.state.additional),{},{entering:e.target.checked})})}},{key:"onChangeAssemblyAndEntering",value:function(e){this.setState({additional:Object(M.a)(Object(M.a)({},this.state.additional),{},{assemblyAndEntering:e.target.checked})})}},{key:"addOrderToArray",value:function(e,t){e.preventDefault(),console.log(t);var a=this.state.orders;a[t.id]=t,this.setState({orders:a,allPrice:a.reduce((function(e,t){return e+t.allPrice}),0)})}},{key:"deleteOrderFromArrayById",value:function(e){if(window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b? \u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f.")){var t=this.state.orders;t.splice(e,1),this.setState({orders:t})}}},{key:"onSendThisOrder",value:function(e){if(e.preventDefault(),0===this.state.validatation.length){var t={name:this.client_name.current.value,phone:this.client_phone.current.value,address:this.client_address.current.value},a={siteName:this.siteName.current.value,week:+this.week.current.value,dateDelivery:this.dateDelivery.current.value,id:this.state.numberOrder,year:+this.year.current.value,delivery:this.state.additional.delivery,assembly:this.state.additional.assembly,entering:this.state.additional.entering,assemblyAndEntering:this.state.additional.assemblyAndEntering,delivery_price:this.delivery_price.current.value,assembly_price:this.assembly_price.current.value,entering_price:this.entering_price.current.value,assemblyAndEntering_price:this.assemblyAndEntering_price.current.value};n=t,i=a,r=this.state.orders,s=function(e){h.NotificationManager.success("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b","OK",3e3)},c=function(e){return h.NotificationManager.warning("\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438\u0441\u044c.","\u041e\u0448\u0438\u0431\u043a\u0430",3e3)},H(U.a+U.b.urlNewOrder,{client:n,additional:i,orders:r},s,c)}else h.NotificationManager.error("\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b","\u041e\u0448\u0438\u0431\u043a\u0430",3e3);var n,i,r,s,c}},{key:"onPressWeekInput",value:function(e){var t,a,n,i,r=this;"Enter"===e.key&&(t=this.week.current.value,a=this.year.current.value,n=function(e){r.setState({numberOrder:e.id})},i=function(e){console.log(e)},V(U.a+U.b.urlNumberOrder,{week:t,year:a},n,i))}},{key:"validate",value:function(e){var t=this,a=function(e){return t.setState({validatation:[].concat(Object(ee.a)(t.state.validatation),[e.target.name])})},n=function(e){return t.setState({validatation:t.state.validatation.filter((function(t){return e.target.name!==t}))})};switch(e.target.name){case"name":return void(e.target.value.length>3||"-"==e.target.value||"\u043d\u0435\u0442"==e.target.value.toLowerCase()?n(e):a(e));case"phone":return void(e.target.value.length>6?n(e):a(e));case"address":return void(e.target.value.length>3||"-"==e.target.value||"\u043d\u0435\u0442"==e.target.value.toLowerCase()?n(e):a(e));case"week":return void(+e.target.value>=1&&Number(e.target.value)?n(e):a(e));case"date_deliver":return void(e.target.value.length>3||"-"==e.target.value||"\u043d\u0435\u0442"==e.target.value.toLowerCase()?n(e):a(e));default:console.log("Case don't registration")}}},{key:"render",value:function(){var e=this,t=function(e){return Object(v.jsxs)("p",{className:"FLabel_line"+(e.mark?" mark_bold":""),children:[Object(v.jsx)("span",{className:"line_key_span",children:e._key}),Object(v.jsx)("span",{className:"line_value_span",children:e.value})]})};return Object(v.jsx)(J.a,{className:"Order_wrapper",children:Object(v.jsxs)("div",{className:"Order",children:[Object(v.jsx)("h1",{children:"\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(v.jsx)("h2",{children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0435"}),Object(v.jsxs)("div",{className:"top_panel",children:[Object(v.jsxs)("div",{className:"order_form_user",children:[Object(v.jsx)(X.a,{hasValidation:!0,controlId:"floatingInput",label:"\u0424\u0418\u041e \u043a\u043b\u0438\u0435\u043d\u0442\u0430",className:"mb-12",children:Object(v.jsx)(J.a.Control,{isInvalid:this.state.validatation.includes("name"),autoFocus:!0,ref:this.client_name,name:"name",type:"text",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",onBlur:function(t){return e.validate(t)},title:"\u0412\u043f\u0438\u0448\u0438\u0442\u0435 '-' \u0438\u043b\u0438 '\u043d\u0435\u0442', \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0432\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e"})}),Object(v.jsx)(X.a,{hasValidation:!0,controlId:"floatingInput",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",className:"mb-12",children:Object(v.jsx)(J.a.Control,{required:!0,isInvalid:this.state.validatation.includes("phone"),ref:this.client_phone,name:"phone",type:"tel",placeholder:"8 123 456 78 90",onBlur:function(t){return e.validate(t)}})}),Object(v.jsx)(X.a,{hasValidation:!0,controlId:"floatingInput",label:"\u0410\u0434\u0440\u0435\u0441",className:"mb-12",children:Object(v.jsx)(J.a.Control,{isInvalid:this.state.validatation.includes("address"),onBlur:function(t){return e.validate(t)},ref:this.client_address,type:"text",name:"address",title:"\u0412\u043f\u0438\u0448\u0438\u0442\u0435 '-' \u0438\u043b\u0438 '\u043d\u0435\u0442', \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0432\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e",placeholder:"\u0433. \u041c\u0443\u0440\u043e\u043c, \u0443\u043b. \u041b\u0435\u043d\u0438\u043d\u0430, 19, \u043a\u0432. 9"})})]}),Object(v.jsxs)("div",{className:"order_form_additional",children:[Object(v.jsxs)(J.a.Select,{ref:this.siteName,"aria-label":"Default select example",className:"select_site",children:[Object(v.jsx)("option",{children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u0430\u0439\u0442"}),Object(v.jsx)("option",{value:"Krovati-spalni.ru",children:"Krovati-spalni.ru"}),Object(v.jsx)("option",{value:"\u043c\u0435\u0431\u0435\u043b\u044c\u0438\u0437\u0441\u043e\u0441\u043d\u044b.\u0440\u0444",children:"\u043c\u0435\u0431\u0435\u043b\u044c\u0438\u0437\u0441\u043e\u0441\u043d\u044b.\u0440\u0444"}),Object(v.jsx)("option",{value:"Liman-murom.ru",children:"Liman-murom.ru"})]}),Object(v.jsxs)("div",{className:"within",children:[Object(v.jsxs)(J.a.Select,{ref:this.year,"aria-label":"year",className:"select_year",children:[Object(v.jsx)("option",{children:"\u0413\u043e\u0434"}),Object(v.jsx)("option",{value:"2021",selected:!0,children:"2021"}),Object(v.jsx)("option",{value:"2022",children:"2022"})]}),Object(v.jsx)(X.a,{controlId:"floatingInput",label:"\u2116 \u043d\u0435\u0434\u0435\u043b\u0438",className:"mb-12",children:Object(v.jsx)(J.a.Control,{isInvalid:this.state.validatation.includes("week"),onBlur:function(t){return e.validate(t)},name:"week",ref:this.week,className:"within_input",type:"number",placeholder:"33",onKeyDown:this.onPressWeekInput.bind(this),required:!0})}),Object(v.jsx)(X.a,{controlId:"floatingInput",label:"\u2116 \u0437\u0430\u043a\u0430\u0437\u0430",className:"mb-12",children:Object(v.jsx)(J.a.Control,{value:this.state.numberOrder,className:"within_input",disabled:!0,type:"number",placeholder:"34"})})]}),Object(v.jsx)(X.a,{hasValidation:!0,controlId:"floatingInput",label:"\u0414\u0430\u0442\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",className:"mb-12",children:Object(v.jsx)(J.a.Control,{isInvalid:this.state.validatation.includes("date_deliver"),onBlur:function(t){return e.validate(t)},ref:this.dateDelivery,type:"text",name:"date_deliver",title:"\u0412\u043f\u0438\u0448\u0438\u0442\u0435 '-' \u0438\u043b\u0438 '\u043d\u0435\u0442', \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0432\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e",placeholder:"34.4.2032"})})]})]}),Object(v.jsx)("h2",{children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),this.state.orders.map((function(t,a){return Object(v.jsx)(te,{id:a,deleteOrderFromArrayById:e.deleteOrderFromArrayById.bind(e),addOrderToArray:e.addOrderToArray.bind(e)})})),Object(v.jsx)("button",{onClick:this.onClickAddOrder.bind(this),className:"btn btn-primary button_add_order",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}),Object(v.jsxs)("p",{className:"dfrowaic",style:{cursor:"pointer",marginTop:"10px"},onClick:this.onClickAdditionalInfo.bind(this),children:["\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e ",this.state.additional_info_active?Object(v.jsx)(v.Fragment,{children:":"}):Object(v.jsx)(O.h,{})]}),Object(v.jsxs)("div",{className:"additional_info",style:{display:this.state.additional_info_active?"block":"none"},children:[Object(v.jsx)(J.a.Check,{type:"checkbox",id:"delivery",label:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430"}),Object(v.jsxs)("span",{className:"price_grey",children:[Object(v.jsx)("input",{className:"form-control",ref:this.delivery_price,type:"number"}),"\u0440\u0443\u0431"]})]}),onChange:this.onChangeDelivery.bind(this)}),Object(v.jsx)(J.a.Check,{type:"checkbox",id:"assembly",label:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{children:"\u0421\u0431\u043e\u0440\u043a\u0430"}),Object(v.jsxs)("span",{className:"price_grey",children:[Object(v.jsx)("input",{className:"form-control",ref:this.assembly_price,type:"number"}),"\u0440\u0443\u0431"]})]}),onChange:this.onChangeAssembly.bind(this)}),Object(v.jsx)(J.a.Check,{type:"checkbox",id:"entering",label:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{children:"\u0417\u0430\u043d\u043e\u0441"}),Object(v.jsxs)("span",{className:"price_grey",children:[Object(v.jsx)("input",{className:"form-control",ref:this.entering_price,type:"number"}),"\u0440\u0443\u0431"]})]}),onChange:this.onChangeEntering.bind(this)}),Object(v.jsx)(J.a.Check,{type:"checkbox",id:"assemblyAndEntering",label:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("span",{children:"\u0421\u0431\u043e\u0440/\u0417\u0430\u043d\u043e\u0441"}),Object(v.jsxs)("span",{className:"price_grey",children:[Object(v.jsx)("input",{className:"form-control",ref:this.assemblyAndEntering_price,type:"number"}),"\u0440\u0443\u0431"]})]}),onChange:this.onChangeAssemblyAndEntering.bind(this)})]}),Object(v.jsx)("hr",{}),this.state.orders.map((function(e){return Object(v.jsx)(t,{_key:"\u0417\u0430\u043a\u0430\u0437 #".concat(e.id+1),value:"".concat(e.allPrice," \u0440\u0443\u0431")})})),Object(v.jsx)(t,{mark:!0,_key:"\u0418\u0442\u043e\u0433",value:"".concat(this.state.allPrice," \u0440\u0443\u0431")}),Object(v.jsx)("button",{className:"btn btn-success button_send_order",onClick:this.onSendThisOrder.bind(this),children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})})}}]),a}(i.a.Component),ne=Object(c.b)((function(e){return{prices:e.prices}}),null)(ae),ie=a(34),re=a.n(ie),se=a(24),ce=a.n(se),le=a(27),oe=a.n(le),de=a(52),ue=a.n(de),he=a(101),be=a.n(he),je=(a(202),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;function i(e,t){switch(t.status){case"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435":return Object(v.jsx)("span",{children:Object(v.jsx)("strong",{style:{color:"blue"},children:e})});case"\u041e\u0442\u043a\u0430\u0437":return Object(v.jsx)("span",{children:Object(v.jsx)("strong",{style:{color:"red"},children:e})});case"\u041e\u043f\u043b\u0430\u0447\u0435\u043d":return Object(v.jsx)("span",{children:Object(v.jsx)("strong",{style:{color:"green"},children:e})});default:return e}}Object(l.a)(this,a),(n=t.call(this,e)).state={data:[],title:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0434\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430",tableName:"prod",exelTableData:[],year:(new Date).getFullYear()};var r=function(e){return console.log(e),!Number(e)||isNaN(e)?{valid:!1,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e"}:!((""+e).length>7)||{valid:!1,message:"\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u0447\u0438\u0441\u043b\u043e"}};return n.prodColumns=[{text:"\u2116 \u043d\u0435\u0434\u0435\u043b\u0438",dataField:"week",sort:!0,filter:Object(se.textFilter)(),validator:function(e,t,a){return r(e)},headerStyle:function(e,t){return{width:"7%"}}},{text:"\u2116 \u0437\u0430\u043a\u0430\u0437\u0430",dataField:"id_fc",sort:!0,filter:Object(se.textFilter)(),validator:function(e,t,a){return r(e)},headerStyle:function(e,t){return{width:"8%"}}},{text:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",dataField:"name",filter:Object(se.textFilter)(),headerStyle:function(e,t){return{width:"35%"}}},{text:"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b",dataField:"material",filter:Object(se.selectFilter)({options:{"\u0411\u0443\u043a":"\u0411\u0443\u043a","\u0421\u043e\u0441\u043d\u0430":"\u0421\u043e\u0441\u043d\u0430"}}),headerStyle:function(e,t){return{width:"10%"}}},{text:"\u0426\u0432\u0435\u0442",dataField:"color",filter:Object(se.textFilter)(),headerStyle:function(e,t){return{width:"12%"}}},{text:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",dataField:"count",validator:function(e,t,a){r(e)},headerStyle:function(e,t){return{width:"9%"}}},{text:"\u0421\u0442\u0430\u0442\u0443\u0441",dataField:"status",formatter:i,filter:Object(se.selectFilter)({options:{"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435":"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435","\u041e\u0442\u043a\u0430\u0437":"\u041e\u0442\u043a\u0430\u0437","\u041e\u043f\u043b\u0430\u0447\u0435\u043d":"\u041e\u043f\u043b\u0430\u0447\u0435\u043d"}}),editor:{type:le.Type.SELECT,options:[{value:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",label:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"},{value:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d",label:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d"},{value:"\u041e\u0442\u043a\u0430\u0437",label:"\u041e\u0442\u043a\u0430\u0437"}]}}],n.controlColumns=[{text:"\u2116 \u043d\u0435\u0434.",dataField:"week",sort:!0,filter:Object(se.textFilter)(),validator:function(e,t,a){return r(e)},headerStyle:function(e,t){return{width:"8%"}}},{text:"\u2116 \u0437\u0430\u043a.",dataField:"id_fc",sort:!0,filter:Object(se.textFilter)(),validator:function(e,t,a){r(e)},headerStyle:function(e,t){return{width:"8%"}}},{text:"\u0421\u0430\u0439\u0442",dataField:"site_name",filter:Object(se.selectFilter)({options:{"Krovati-spalni.ru":"Krovati-spalni.ru","\u043c\u0435\u0431\u0435\u043b\u044c\u0438\u0437\u0441\u043e\u0441\u043d\u044b.\u0440\u0444":"\u043c\u0435\u0431\u0435\u043b\u044c\u0438\u0437\u0441\u043e\u0441\u043d\u044b.\u0440\u0444","Liman-murom.ru":"Liman-murom.ru"}}),headerStyle:function(e,t){return{width:"15%"}},editor:{type:le.Type.SELECT,options:[{value:"Krovati-spalni.ru",label:"Krovati-spalni.ru"},{value:"\u043c\u0435\u0431\u0435\u043b\u044c\u0438\u0437\u0441\u043e\u0441\u043d\u044b.\u0440\u0444",label:"\u043c\u0435\u0431\u0435\u043b\u044c\u0438\u0437\u0441\u043e\u0441\u043d\u044b.\u0440\u0444"},{value:"Liman-murom.ru",label:"Liman-murom.ru"}]}},{text:"\u0424\u0418\u041e",dataField:"client_name",filter:Object(se.textFilter)(),headerStyle:function(e,t){return{width:"15%"}}},{text:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",filter:Object(se.textFilter)(),dataField:"client_phone",headerStyle:function(e,t){return{width:"15%"}}},{text:"\u0410\u0434\u0440\u0435\u0441",filter:Object(se.textFilter)(),dataField:"client_address",headerStyle:function(e,t){return{width:"15%"}}},{text:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",dataField:"price",headerStyle:function(e,t){return{width:"8%"}}},{text:"\u0421\u0442\u0430\u0442\u0443\u0441",dataField:"status",formatter:i,editor:{type:le.Type.SELECT,options:[{value:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",label:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"},{value:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d",label:"\u041e\u043f\u043b\u0430\u0447\u0435\u043d"},{value:"\u041e\u0442\u043a\u0430\u0437",label:"\u041e\u0442\u043a\u0430\u0437"}]},headerStyle:function(e,t){return{width:"8%"}}},{text:"\u041e\u0442\u0434\u0430\u043b\u0438",dataField:"paid",headerStyle:function(e,t){return{width:"6%"}}},{text:"\u0414\u043e\u043b\u0433",dataField:"debt",validator:function(e,t,a){r(e)},headerStyle:function(e,t){return{width:"6%"}}}],n}return Object(o.a)(a,[{key:"onSelectForExelTable",value:function(e,t,a){t?this.setState({exelTableData:[].concat(Object(ee.a)(this.state.exelTableData),[e])}):this.setState({exelTableData:Object(ee.a)(this.state.exelTableData.filter((function(t){return t.id!==e.id})))})}},{key:"onSelectAllForExelTable",value:function(e,t){var a=this;e?t.map((function(e){return a.setState({exelTableData:Object(ee.a)(t)})})):this.setState({exelTableData:[]})}},{key:"selectYearAndReloadData",value:function(e){this.setState({year:+e.target.value}),this.updateOrders(this.state.tableName,+e.target.value)}},{key:"updateOrders",value:function(e,t){var a=this;switch(e){case"prod":!function(e,t,a){V(U.a+U.b.urlGetProdOrders,{type:"prod",year:e},t,a)}(t,(function(e){a.setState({data:e.data.reverse()})}),(function(e){return console.error(e)}));break;case"control":!function(e,t,a){V(U.a+U.b.urlGetControlOrders,{type:"control",year:e},t,a)}(t,(function(e){a.setState({data:e.data.reverse(),title:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0434\u043b\u044f \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),(function(e){return console.error(e)}));break;default:console.log("error")}}},{key:"componentDidMount",value:function(){var e="/tables/prod"===this.props.location.pathname?"prod":"control";this.updateOrders(e,this.state.year),this.setState({tableName:e,title:"control"===e?"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0434\u043b\u044f \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432":this.state.title})}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"table-wrapper",children:[Object(v.jsx)("h1",{style:{textAlign:"center",fontFamily:"RobotoBold",fontSize:"1.5em",marginBottom:"20px"},children:this.state.title}),Object(v.jsxs)(J.a.Select,{className:"header-selects header-selects-year","aria-label":"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0433\u043e\u0434",onChange:function(t){return e.selectYearAndReloadData(t)},children:[Object(v.jsx)("option",{value:(new Date).getFullYear(),children:"\u0413\u043e\u0434"}),Object(v.jsx)("option",{selected:!0,value:"2021",children:"2021 \u0433\u043e\u0434"}),Object(v.jsx)("option",{value:"2022",children:"2022 \u0433\u043e\u0434"})]}),Object(v.jsx)(re.a,{striped:!0,hover:!0,condensed:!0,bordered:!0,keyField:"id",data:this.state.data,columns:"/tables/prod"===this.props.location.pathname?this.prodColumns:this.controlColumns,cellEdit:oe()({mode:"dbclick",afterSaveCell:function(t,a,n,i){e.props.editCellFromRedux(n.id,i.dataField,a)}}),filter:ce()({}),filterPosition:"top",selectRow:{mode:"checkbox",clickToSelect:!0,clickToEdit:!0,onSelect:function(t,a,n,i){e.onSelectForExelTable(t,a,n)},onSelectAll:function(t,a){e.onSelectAllForExelTable(t,a)}},pagination:ue()()}),Object(v.jsxs)("table",{style:{display:"none"},id:"table-to-xls",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:["prod"==this.state.tableName&&this.prodColumns.map((function(e){return Object(v.jsx)("th",{children:e.text})})),"control"==this.state.tableName&&this.controlColumns.map((function(e){return Object(v.jsx)("th",{children:e.text})}))]})}),Object(v.jsx)("tbody",{children:this.state.exelTableData.map((function(t){return Object(v.jsxs)("tr",{children:["prod"==e.state.tableName&&e.prodColumns.map((function(e){return Object(v.jsx)("th",{children:t[e.dataField]})})),"control"==e.state.tableName&&e.controlColumns.map((function(e){return Object(v.jsx)("th",{children:t[e.dataField]})}))]},t.id)}))})]}),Object(v.jsxs)("p",{className:"footer-table",children:[Object(v.jsx)("button",{className:"btn btn-success",onClick:function(t){return"/tables/prod"===e.props.location.pathname?e.props.save("/save_data/prod","POST"):e.props.save("/save_data/control","POST")},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(v.jsx)(be.a,{id:"test-table-xls-button",className:"btn btn-primary ".concat(0===this.state.exelTableData.length?"disabled":""," download-table-xls-button"),table:"table-to-xls",filename:"table_"+this.state.tableName,sheet:"tablexls",buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432 XLS"})]})]})}}]),a}(i.a.Component)),pe=Object(c.b)(null,(function(e){return{editCellFromRedux:function(t,a,n){return e(function(e,t,a){return{type:A,payload:{id:e,col:t,value:a}}}(t,a,n))},save:function(t,a){return e(function(e,t){return{type:D,payload:{url:e,method:t}}}(t,a))}}}))(je),ve=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).columns=[{text:"ID",dataField:"id",editable:!1},{text:"\u0424\u0418\u041e",dataField:"name"},{text:"\u041b\u043e\u0433\u0438\u043d",dataField:"login",editable:!1},{text:"\u0420\u043e\u043b\u044c",dataField:"role",editor:{type:le.Type.SELECT,options:[{value:"0",label:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0430\u0440\u0442\u043e\u0440"},{value:"1",label:"\u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440"},{value:"2",label:"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440"},{value:"3",label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}]}},{text:"\u0410\u043a\u0442\u0438\u0432\u0435\u043d",dataField:"active",editor:{type:le.Type.SELECT,options:[{value:"0",label:"\u041d\u0435 \u0430\u043a\u0442\u0438\u0432\u0435\u043d"},{value:"1",label:"\u0410\u043a\u0442\u0438\u0432\u0435\u043d"}]}}],n.state={data:[],title:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0434\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430"},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this;e=function(e){a.setState({data:e.data})},t=function(e){return console.error(e)},V(U.a+U.b.urlGetUsers,{},e,t)}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{style:{textAlign:"center",fontFamily:"RobotoBold",fontSize:"1.5em"},children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438"}),Object(v.jsx)(re.a,{striped:!0,hover:!0,condensed:!0,bordered:!0,id:"table_users",keyField:"id",data:this.state.data,columns:this.columns,cellEdit:oe()({mode:"click",afterSaveCell:function(t,a,n,i){e.props.addChange(n.id,i.dataField,a)}}),pagination:ue()()}),Object(v.jsxs)("p",{className:"footer-table",children:[Object(v.jsx)("button",{className:"btn btn-primary",children:"\u041d\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430"}),Object(v.jsx)("button",{className:"btn btn-primary",onClick:function(t){return e.props.saveChanges()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})}}]),a}(i.a.Component),fe=Object(c.b)((function(e){return{auth:e.app.authorization,user:e.user}}),(function(e){return{addChange:function(t,a,n){return e(function(e,t,a){return{type:C,payload:{id:e,col:t,value:a}}}(t,a,n))},saveChanges:function(){return e({type:w})}}}))(ve),me=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)("h1",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})})}}]),a}(i.a.Component),Oe=a(213),xe=a(214),ge=a(99),ye=a(53),Ne=a.n(ye),_e=(a(203),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={prods:[],selectedRows:[]},n.columns=[{text:"\u2116 \u043f/\u043f",dataField:"index",headerStyle:function(e,t){return{width:"5%"}},editable:!1},{text:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 (\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442, \u043e\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433)",dataField:"name",headerStyle:function(e,t){return{width:"30%"}}},{text:"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b",dataField:"material",editor:{type:le.Type.SELECT,options:[{value:"\u0421\u043e\u0441\u043d\u0430",label:"\u0421\u043e\u0441\u043d\u0430"},{value:"\u0411\u0435\u0440\u0435\u0437\u0430",label:"\u0411\u0435\u0440\u0435\u0437\u0430"},{value:"\u0411\u0443\u043a",label:"\u0411\u0443\u043a"},{value:"\u0414\u0443\u0431",label:"\u0414\u0443\u0431"},{value:"\u042f\u0441\u0435\u043d\u044c",label:"\u042f\u0441\u0435\u043d\u044c"}]}},{text:"\u0426\u0432\u0435\u0442",dataField:"color",editor:{type:le.Type.SELECT,options:[{value:"\u043b\u0430\u043a",label:"\u043b\u0430\u043a"},{value:"\u0412\u0435\u043d\u0433\u0435-1",label:"\u0412\u0435\u043d\u0433\u0435-1"},{value:"\u0412\u0435\u043d\u0433\u0435-2",label:"\u0412\u0435\u043d\u0433\u0435-2"}]}},{text:"\u0415\u0434. \u0438\u0437\u043c.",dataField:"units",editable:!1},{text:"\u041a\u043e\u043b-\u0432\u043e",dataField:"count"},{text:"\u0426\u0435\u043d\u0430 (\u0442\u0430\u0440\u0438\u0444) \u0440\u0443\u0431.\u043a\u043e\u043f.",dataField:"price"},{text:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u043e\u0432 (\u0440\u0430\u0431\u043e\u0442, \u0443\u0441\u043b\u0443\u0433) \u0440\u0443\u0431.\u043a\u043e\u043f.",dataField:"allPrice"}],n.invoiceRef=i.a.createRef(),n}return Object(o.a)(a,[{key:"printInvoice",value:function(){var e=this.props.invoiceData;Y([this.props.invoiceData.id],(function(t){Ne()(t,"\u0437\u0430\u043a\u0430\u0437_".concat(e.id_fc,".docx"))}),(function(e){return h.NotificationManager.warning("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442","\u041e\u0448\u0438\u0431\u043a\u0430",3e3)}))}},{key:"newRow",value:function(){this.setState({prods:[].concat(Object(ee.a)(this.state.prods),[{allPrice:0,assemblyAndEntering:!1,color:"",count:0,id:this.state.prods[this.state.prods.length-1].id+1,id_fc:this.props.invoiceData.id_fc,id_iv:this.props.invoiceData.id,index:this.state.prods[this.state.prods.length-1].index+1,material:"",name:"",price:0,units:"\u0448\u0442.",week:this.props.invoiceData.week}])}),this.props.addInvoiceChange({type:"NEW_ROW",payload:{id:this.state.prods[this.state.prods.length-1].id+1}})}},{key:"deleteRow",value:function(){var e=this.state.selectedRows.reduce((function(e,t){return[].concat(Object(ee.a)(e),[t.id])}),[]);this.setState({prods:this.state.prods.filter((function(t){return!e.includes(t.id)}))}),this.props.addInvoiceChange({type:"DELETE_ROW",payload:e})}},{key:"saveInvoice",value:function(){this.props.saveInvoiceChanges(this.props.invoiceData)}},{key:"componentDidMount",value:function(){var e,t,a=this;e=function(e){var t=1;a.setState({prods:e.data.filter((function(e){return e.id_iv===a.props.invoiceData.id})).reduce((function(e,a){return[].concat(Object(ee.a)(e),[Object(M.a)(Object(M.a)({},a),{},{units:"\u0448\u0442.",index:t++,assemblyAndEntering:!!a.assembly&&!!a.entering})])}),[])})},t=function(e){return h.NotificationManager.warning("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435","\u041e\u0448\u0438\u0431\u043a\u0430",3e3)},V(U.a+U.b.urlGetInvoices,{type:"prods"},e,t)}},{key:"onSelectForExelTable",value:function(e,t,a){t?this.setState({selectedRows:[].concat(Object(ee.a)(this.state.selectedRows),[e])}):this.setState({selectedRows:Object(ee.a)(this.state.selectedRows.filter((function(t){return t.id!==e.id})))})}},{key:"onSelectAllForExelTable",value:function(e,t){e?this.setState({selectedRows:Object(ee.a)(t)}):this.setState({selectedRows:[]})}},{key:"render",value:function(){var e=this,t=function(t,a){return Object(v.jsxs)(J.a.Select,{className:"","aria-label":"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0433\u043e\u0434",onChange:function(t){return e.props.addInvoiceChange({type:a,payload:t.target.value})},children:[Object(v.jsx)("option",{value:"",children:"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435"}),Object(v.jsx)("option",{selected:!!t,value:"\u0414\u0430",children:"\u0414\u0430"}),Object(v.jsx)("option",{selected:!t,value:"\u041d\u0435\u0442",children:"\u041d\u0435\u0442"})]})},a=function(t,a){return Object(v.jsx)("input",{type:"text",defaultValue:t,onKeyPress:function(t){return function(t){"Enter"===t.key&&e.props.addInvoiceChange({type:a,payload:t.target.value})}(t)}})};return Object(v.jsxs)("div",{className:"Invoice-wrapper",children:[!!this.props.invoiceData.deliver_back&&Object(v.jsx)("span",{className:"deliver-back-mark",children:"\u0414\u043e\u0432\u043e\u0437"}),Object(v.jsxs)("div",{className:"Invoice",ref:this.invoiceRef,children:[Object(v.jsxs)("div",{className:"header",children:[Object(v.jsx)("div",{className:"logo",children:function(e){switch(e){case"Krovati-spalni.ru":return Object(v.jsx)("img",{src:"http://localhost:8080/images/logo_krovati_var_22.png",alt:"logo"});case"\u043c\u0435\u0431\u0435\u043b\u044c\u0438\u0437\u0441\u043e\u0441\u043d\u044b.\u0440\u0444":return Object(v.jsx)("img",{src:"http://localhost:8080/images/ms.png",alt:"logo"});case"Liman-murom.ru":return Object(v.jsx)("img",{src:"http://localhost:8080/images/lim.jpg",alt:"logo"});default:return Object(v.jsx)("img",{title:"no image"})}}(this.props.invoiceData.site_name)}),Object(v.jsxs)("div",{className:"info_block",children:[Object(v.jsxs)("div",{className:"client_info client_name",children:[Object(v.jsx)("span",{children:"\u0424\u0418\u041e"}),": ",this.props.invoiceData.client_name]}),Object(v.jsxs)("div",{className:"client_info client_phone",children:[Object(v.jsx)("span",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),": ",this.props.invoiceData.client_phone]}),Object(v.jsxs)("div",{className:"client_info client_address",children:[Object(v.jsx)("span",{children:"\u0410\u0434\u0440\u0435\u0441"}),": ",this.props.invoiceData.client_address]})]})]}),Object(v.jsx)("div",{className:"sub-header",children:Object(v.jsxs)("p",{children:[Object(v.jsxs)("span",{children:["\u0417\u0430\u043a\u0430\u0437 \u2116 ",Object(v.jsx)("span",{className:"number_order",children:this.props.invoiceData.id_fc})]}),Object(v.jsxs)("span",{children:["\u0414\u0430\u0442\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 ",Object(v.jsx)("span",{className:"date_order",children:this.props.invoiceData.date_order})]})]})}),Object(v.jsx)("div",{className:"prods",children:Object(v.jsx)(re.a,{striped:!0,hover:!0,condensed:!0,bordered:!0,keyField:"id",data:this.state.prods,columns:this.columns,cellEdit:oe()({mode:"dbclick",afterSaveCell:function(t,a,n,i){e.props.addInvoiceChange({type:"CHANGE",payload:{col:i.dataField,value:a,id:n.id}})}}),selectRow:{mode:"checkbox",clickToSelect:!0,clickToEdit:!0,onSelect:function(t,a,n,i){e.onSelectForExelTable(t,a,n)},onSelectAll:function(t,a){e.onSelectAllForExelTable(t,a)}}})}),Object(v.jsxs)("div",{className:"table-bottom-panel",children:[Object(v.jsx)("button",{className:"btn btn-success",onClick:this.newRow.bind(this),children:"\u041d\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430"}),Object(v.jsx)("button",{className:"btn btn-danger",onClick:this.deleteRow.bind(this),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443"})]}),Object(v.jsx)("p",{className:"gost",children:"\u0414\u0430\u043d\u043d\u0430\u044f \u043c\u0435\u0431\u0435\u043b\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0413\u041e\u0421\u0422\u0443 16371-93 \u0438 \u0433\u043e\u0441\u0442\u0443 19917-93, \u0438\u043c\u0435\u0435\u0442 \u0433\u0438\u0433\u0438\u0435\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442, \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f, \u043f\u0440\u0438\u0437\u043d\u0430\u043d\u0430 \u0433\u043e\u0434\u043d\u043e\u0439 \u043a \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438."}),Object(v.jsxs)("div",{className:"assembly-and-entering",children:[Object(v.jsxs)("span",{className:"name-field",children:["\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 ",Object(v.jsxs)("span",{className:"field field_data field-delivery",children:[t(this.props.invoiceData.delivery,"CHANGE/delivery")," ",a(this.props.invoiceData.delivery_price,"CHANGE/delivery_price")]})]}),Object(v.jsxs)("span",{className:"name-field",children:["\u0421\u0431\u043e\u0440 ",Object(v.jsxs)("span",{className:"field field_data field-assembly",children:[t(this.props.invoiceData.assembly,"CHANGE/assembly")," ",a(this.props.invoiceData.assembly_price,"CHANGE/assembly_price")]})]}),Object(v.jsxs)("span",{className:"name-field",children:["\u0417\u0430\u043d\u043e\u0441 ",Object(v.jsxs)("span",{className:"field field_data field-entering",children:[t(this.props.invoiceData.entering,"CHANGE/entering")," ",a(this.props.invoiceData.entering_price,"CHANGE/entering_price")]})]}),Object(v.jsxs)("span",{className:"name-field",children:["\u0421\u0431\u043e\u0440/\u0417\u0430\u043d\u043e\u0441 ",Object(v.jsxs)("span",{className:"field field_data field-assembly-entering",children:[t(this.props.invoiceData.assemblyAndEntering,"CHANGE/assemblyAndEntering")," ",a(this.props.invoiceData.assemblyAndEntering_price,"CHANGE/assemblyAndEntering_price")]})]})]}),Object(v.jsxs)("div",{className:"write-for-client",children:[Object(v.jsx)("p",{children:"\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a:"}),Object(v.jsxs)("p",{className:"write-for-client-data",children:[Object(v.jsxs)("span",{className:"info write-name-client",children:["\u0424\u0418\u041e",Object(v.jsx)("span",{className:"field"})]}),Object(v.jsxs)("span",{className:"info write-phone-client",children:["\u0422\u0435\u043b.",Object(v.jsx)("span",{className:"field"})]})]})]}),Object(v.jsxs)("p",{className:"signature",children:["\u041f\u043e\u0434\u043f\u0438\u0441\u044c ",Object(v.jsx)("span",{className:"field"})]})]}),Object(v.jsxs)("div",{className:"panel-bottom",children:[Object(v.jsx)("button",{className:"btn btn-success",onClick:this.saveInvoice.bind(this),children:"\u0421\u043e\u0445\u0430\u043d\u0438\u0442\u044c"}),Object(v.jsx)("button",{className:"btn btn-primary",onClick:this.printInvoice.bind(this),children:"\u041f\u0435\u0447\u0430\u0442\u044c"})]})]})}}]),a}(i.a.Component)),ke=Object(c.b)(null,(function(e){return{addInvoiceChange:function(t){return e({type:F,payload:t})},saveInvoiceChanges:function(t){return e(function(e){return{type:E,payload:e}}(t))}}}))(_e),Ce=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={invoices:[],activeInvoice:!1,activeRow:{},selectedYear:(new Date).getFullYear(),selectedWeek:-1,deliverVisible:!1,selectInvoices:[],countItemsInPage:10,currentPage:1,maxCountPages:5},n.deliverNumberOrder=i.a.createRef(),n}return Object(o.a)(a,[{key:"updateListInvoices",value:function(){var e=this;z(this.state.selectedYear,(function(t){e.setState({invoices:t.data.reverse()})}),(function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){this.updateListInvoices()}},{key:"onEventHandlerForLabel",value:function(e,t){switch(e.detail){case 1:var a=-1;if(this.state.selectInvoices.map((function(e,n){if(e.id===t.id)return a=n,e})),-1!==a){var n=this.state.selectInvoices;n.splice(a,1),this.setState({selectInvoices:n})}else this.setState({selectInvoices:[].concat(Object(ee.a)(this.state.selectInvoices),[t])});break;case 2:e.preventDefault(),this.setState({activeInvoice:!0,activeRow:t,selectInvoices:[]});break;default:return}}},{key:"selectWeekAndReloadData",value:function(e){this.setState({selectedWeek:+e.target.value})}},{key:"selectYearAndReloadData",value:function(e){var t=this;z(+e.target.value,(function(e){t.setState({invoices:e.data})}),(function(e){return console.log(e)}))}},{key:"createDeliverBack",value:function(e){var t,a,n,i=this;0!==this.state.invoices.filter((function(e){return e.id_fc===+i.deliverNumberOrder.current.value})).length?(t=+this.deliverNumberOrder.current.value,a=function(e){e.error?h.NotificationManager.warning("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0434\u043e\u0432\u043e\u0437","\u041e\u0448\u0438\u0431\u043a\u0430",3e3):i.setState({invoices:[Object(M.a)(Object(M.a)({},i.state.invoices.filter((function(e){return e.id_fc===+i.deliverNumberOrder.current.value}))[0]),{},{deliver_back:1,id:i.state.invoices[i.state.invoices.length-1].id+1})].concat(Object(ee.a)(i.state.invoices)),deliverVisible:!1})},n=function(e){return h.NotificationManager.warning("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0434\u043e\u0432\u043e\u0437","\u041e\u0448\u0438\u0431\u043a\u0430",3e3)},H(U.a+U.b.urlPostInvoiceDeliverBack,{id_fc:t},a,n)):h.NotificationManager.warning("\u0422\u0430\u043a\u043e\u0433\u043e \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442","\u041e\u0448\u0438\u0431\u043a\u0430",3e3)}},{key:"printSelected",value:function(e){Y(this.state.selectInvoices.reduce((function(e,t){return[].concat(Object(ee.a)(e),[t.id])}),[]),(function(e){Ne()(e,"\u0437\u0430\u043a\u0430\u0437\u044b.docx")}),(function(e){return console.log(e)}))}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(ee.a)(Array(e).keys()).map((function(e){return e+t}))}},{key:"toForward",value:function(e){this.state.currentPage<Math.ceil(this.state.invoices.length/this.state.countItemsInPage)&&this.setState({currentPage:this.state.currentPage+1})}},{key:"toBackward",value:function(e){this.state.currentPage>1&&this.setState({currentPage:this.state.currentPage-1})}},{key:"pickPage",value:function(e){this.setState({currentPage:e})}},{key:"render",value:function(){var e=this,t=this.state.invoices.reduce((function(e,t){return e.includes(t.week)?e:[].concat(Object(ee.a)(e),[t.week])}),[]).sort(),a=-1===this.state.selectedWeek?this.state.invoices.filter((function(t,a){return a>=(e.state.currentPage-1)*e.state.countItemsInPage&&a<e.state.currentPage*e.state.countItemsInPage})):this.state.invoices.filter((function(t){return t.week===e.state.selectedWeek})).filter((function(t,a){return a>=(e.state.currentPage-1)*e.state.countItemsInPage&&a<e.state.currentPage*e.state.countItemsInPage})),n=-1===this.state.selectedWeek?Math.ceil(this.state.invoices.length/this.state.countItemsInPage):Math.ceil(this.state.invoices.filter((function(t){return t.week===e.state.selectedWeek})).length/this.state.countItemsInPage);return Object(v.jsxs)("div",{className:"invoices_section",children:[this.state.activeInvoice&&Object(v.jsx)("span",{onClick:function(t){e.setState({activeInvoice:!1,activeRow:{}}),e.updateListInvoices()},children:Object(v.jsx)(O.a,{})}),Object(v.jsxs)("h1",{className:"header",children:["\u0417\u0430\u043a\u0430\u0437\u044b ",this.state.activeInvoice?": ".concat(this.state.activeRow.id_fc):""]}),!this.state.activeInvoice&&Object(v.jsxs)("div",{className:"invoices_list_wrapper",children:[Object(v.jsxs)("div",{className:"panel",children:[Object(v.jsxs)(J.a.Select,{className:"header-selects header-selects-week","aria-label":"\u041d\u0435\u0434\u0435\u043b\u044f",onChange:function(t){return e.selectWeekAndReloadData(t)},children:[Object(v.jsx)("option",{value:"-1",children:"\u2116 \u043d\u0435\u0434\u0435\u043b\u0438"}),t.map((function(e){return Object(v.jsx)("option",{value:e,children:e},e)}))]}),Object(v.jsxs)(J.a.Select,{className:"header-selects header-selects-year","aria-label":"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0433\u043e\u0434",onChange:function(t){return e.selectYearAndReloadData(t)},children:[Object(v.jsx)("option",{value:"2021",children:"\u0413\u043e\u0434"}),Object(v.jsx)("option",{selected:!0,value:"2021",children:"2021 \u0433\u043e\u0434"}),Object(v.jsx)("option",{value:"2022",children:"2022 \u0433\u043e\u0434"})]})]}),Object(v.jsxs)("div",{className:"label_thead",children:[Object(v.jsx)("span",{className:"number_order",children:"\u2116 \u041d\u0435\u0434\u0435\u043b\u0438"}),Object(v.jsx)("span",{className:"number_order",children:"\u2116 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(v.jsx)("span",{className:"client_name",children:"\u0424\u0418\u041e"}),Object(v.jsx)("span",{className:"client_phone",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"})]}),Object(v.jsx)("ul",{className:"invoices_list",children:a.map((function(t,a){return Object(v.jsx)("li",{onClick:function(a){return e.onEventHandlerForLabel(a,t)},children:Object(v.jsx)(J.a.Check,{type:"checkbox",id:"invoice_".concat(a),className:"choice choice_".concat(a),label:Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsx)("span",{className:"field number_order",children:t.week}),Object(v.jsx)("span",{className:"field number_order",children:t.id_fc}),Object(v.jsx)("span",{className:"field client_name",children:t.client_name}),Object(v.jsx)("span",{className:"field client_phone",children:t.client_phone}),t.deliver_back?Object(v.jsx)("span",{className:"deliver_back",children:"\u0414\u043e\u0432\u043e\u0437"}):Object(v.jsx)(v.Fragment,{})]})})},"li_".concat(a))}))}),this.state.deliverVisible&&Object(v.jsxs)("div",{className:"deliver",children:[Object(v.jsx)("span",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0434\u043e\u0432\u043e\u0437: "}),Object(v.jsx)(X.a,{controlId:"floatingInput",label:"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430",className:"mb-4",children:Object(v.jsx)(J.a.Control,{type:"text",placeholder:"3400",autoFocus:!0,ref:this.deliverNumberOrder})}),Object(v.jsxs)("div",{className:"button-wrapper",children:[Object(v.jsx)("button",{className:"btn btn-primary add-deliver",onClick:this.createDeliverBack.bind(this),children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),Object(v.jsx)("button",{className:"btn btn-danger",onClick:function(t){return e.setState({deliverVisible:!1})},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]}),Object(v.jsxs)("div",{className:"panigation",children:[Object(v.jsxs)(J.a.Select,{onChange:function(t){return e.setState({countItemsInPage:+t.target.value})},className:"header-selects header-selects-year","aria-label":"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0430\u0439\u0442\u043e\u043c\u043e\u0432",children:[Object(v.jsx)("option",{value:"10",selected:!0,children:"\u041a\u043e\u043b-\u0432\u043e: 10"}),Object(v.jsx)("option",{value:"20",children:"\u041a\u043e\u043b-\u0432\u043e: 20"}),Object(v.jsx)("option",{value:"30",children:"\u041a\u043e\u043b-\u0432\u043e: 30"}),Object(v.jsx)("option",{value:"40",children:"\u041a\u043e\u043b-\u0432\u043e: 40"}),Object(v.jsx)("option",{value:"50",children:"\u041a\u043e\u043b-\u0432\u043e: 50"})]}),Object(v.jsxs)(Oe.a,{"aria-label":"Toolbar with button groups",className:"panigation-pages",children:[Object(v.jsx)(xe.a,{className:"me-2","aria-label":"First group",children:Object(v.jsx)(ge.a,{onClick:this.toBackward.bind(this),children:Object(v.jsx)(O.a,{})})}),Object(v.jsx)(xe.a,{className:"me-2","aria-label":"Second group",children:this.range(n).map((function(t,a){return Object(v.jsx)(ge.a,{onClick:function(t){return e.pickPage(a+1)},active:e.state.currentPage===a+1,children:a+1})}))}),Object(v.jsx)(xe.a,{"aria-label":"Third group",children:Object(v.jsx)(ge.a,{onClick:this.toForward.bind(this),children:Object(v.jsx)(O.b,{})})})]})]}),Object(v.jsxs)("p",{className:"button_wrapper",children:[Object(v.jsx)("button",{onClick:function(t){return e.setState({deliverVisible:!0})},className:"btn btn-success",style:{marginRight:"10px"},children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0434\u043e\u0432\u043e\u0437"}),Object(v.jsx)("button",{onClick:this.printSelected.bind(this),className:"btn btn-primary ".concat(0===this.state.selectInvoices.length?"disabled":""),children:"\u041f\u0435\u0447\u0430\u0442\u044c"})]})]}),this.state.activeInvoice&&Object(v.jsx)(ke,{invoiceData:this.state.activeRow})]})}}]),a}(i.a.Component),we=Object(c.b)((function(e){return{auth:e.app.authorization,user:e.user}}),null)(Ce),Se=[{path:"/logout",name:"\u0412\u044b\u0439\u0442\u0438",role_user:y,isNavBar:!1,isPrivate:!0,component:Z},{path:"/login",name:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",role_user:N,isNavBar:!1,isPrivate:!1,icon:Object(v.jsx)(O.f,{}),component:Z},{path:"/registration",name:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",role_user:N,isNavBar:!1,isPrivate:!1,component:$},{path:"/new_order",name:"\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437",role_user:y,isNavBar:!0,isPrivate:!0,icon:Object(v.jsx)(O.e,{}),component:ne},{path:"/invoices",name:"\u0417\u0430\u043a\u0430\u0437\u044b",role_user:y,isNavBar:!0,isPrivate:!0,icon:Object(v.jsx)(O.d,{}),component:we},{path:"/tables/prod",name:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0434\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430",role_user:g,isNavBar:!0,isPrivate:!0,icon:Object(v.jsx)(O.i,{}),component:pe},{path:"/tables/control",name:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0434\u043b\u044f \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u044f",role_user:g,isNavBar:!0,isPrivate:!0,icon:Object(v.jsx)(O.i,{}),component:pe},{path:"/users",name:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438",role_user:x,isNavBar:!0,isPrivate:!0,icon:Object(v.jsx)(O.k,{}),component:fe},{path:"/",name:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",role_user:y,isNavBar:!1,isPrivate:!1,component:me}],Ie=(a(204),a(205),a(206),a(207),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e,t,a,n=this;localStorage.getItem("token")?(e=localStorage.getItem("token"),t=function(e){n.setState({auth:!0,userActive:e.active}),n.props.addUser(e.login,e.name,e.role,e.active),n.props.authUser(!e.error),localStorage.setItem("token",e.jwt)},a=function(e){return n.setState({auth:!1,userActive:0})},H(U.a+U.b.urlAuth,{jwt:e},t,a)):(this.props.authUser(!1),this.setState({auth:!1,userActive:0}))}},{key:"render",value:function(){var e=this;return Object(v.jsx)(b.a,{children:Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsx)(T,{}),Object(v.jsx)(f,{routes:Se.filter((function(e){return e.isNavBar}))}),Object(v.jsx)(h.NotificationContainer,{}),Object(v.jsx)("main",{children:Object(v.jsx)(j.d,{children:Se.map((function(t){var a=t.isPrivate&&(!e.props.auth||!e.props.user.active||t.role_user<e.props.user.role)?B(t.component):t.component;return Object(v.jsx)(j.b,{path:t.path,component:a},t.path)}))})})]})})}}]),a}(i.a.Component)),Fe=Object(c.b)((function(e){return{user:e.user,auth:e.app.authorization}}),(function(e){return{addUser:function(t,a,n,i){return e(P(t,a,n,i))},authUser:function(t){return e(R(t))}}}))(Ie),Ee=a(35),Ae=a(102),De=a(103),Pe={login:null,name:null,role:x,active:1,changes:[]},Re={authorization:!0,invoicesChanges:[]},Te={changes:[]},Me=Object(Ee.combineReducers)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(M.a)(Object(M.a)({},e),{},{authorization:t.payload});case I:return localStorage.removeItem("token"),Object(M.a)(Object(M.a)({},e),{},{authorization:t.payload});case F:return Object(M.a)(Object(M.a)({},e),{},{invoicesChanges:[].concat(Object(ee.a)(e.invoicesChanges),[t.payload])});case E:return q(t.payload,e.invoicesChanges,(function(e){e.error?h.NotificationManager.warning("\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u043e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435","\u041e\u0448\u0438\u0431\u043a\u0430",3e3):h.NotificationManager.success("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b","\u041e\u041a",3e3)}),(function(e){return h.NotificationManager.warning("\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u043e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435","\u041e\u0448\u0438\u0431\u043a\u0430",3e3)})),Object(M.a)(Object(M.a)({},e),{},{invoicesChanges:[]});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(M.a)(Object(M.a)({},t.payload),{},{changes:[]});case k:return Pe;case C:return Object(M.a)(Object(M.a)({},e),{},{changes:[].concat(Object(ee.a)(e.changes),[t.payload])});case w:return K(e.changes,(function(e){e.error?h.NotificationManager.warning("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a","\u041e\u0448\u0438\u0431\u043a\u0430",3e3):h.NotificationManager.success("\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!","OK",3e3)}),(function(e){return h.NotificationManager.warning("\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u043e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435","\u041e\u0448\u0438\u0431\u043a\u0430",3e3)})),Object(M.a)(Object(M.a)({},e),{},{changes:[]});default:return e}},tables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(M.a)(Object(M.a)({},e),{},{changes:[].concat(Object(ee.a)(e.changes),[t.payload])});case D:return W(t.payload.url,e.changes,(function(e){e.error?h.NotificationManager.warning("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a","\u041e\u0448\u0438\u0431\u043a\u0430",3e3):h.NotificationManager.success("\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!","OK",3e3)}),(function(e){return h.NotificationManager.warning("\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u043e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435","\u041e\u0448\u0438\u0431\u043a\u0430",3e3)})),Object(M.a)(Object(M.a)({},e),{},{changes:[]});default:return e}}}),Be=Object(De.composeWithDevTools)({trace:!0,traceLimit:25}),Le=Object(Ee.createStore)(Me,Be(Object(Ee.applyMiddleware)(Ae.a,(function(e){return function(t){return function(a){var n=!1,i=[];function r(){i.forEach((function(t){return e.dispatch(t)})),i=[]}var s=Object.assign({},a,{asyncDispatch:function(e){i=i.concat([e]),n&&r()}}),c=t(s);return n=!0,r(),c}}}))));a(208);s.a.render(Object(v.jsx)(c.a,{store:Le,children:Object(v.jsx)(Fe,{})}),document.getElementById("root"))},79:function(e,t,a){},80:function(e,t,a){}},[[209,1,2]]]);
//# sourceMappingURL=main.dd1549a5.chunk.js.map