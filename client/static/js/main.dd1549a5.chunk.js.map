{"version":3,"sources":["components/SideBar.jsx","redux/types.js","redux/actions/users.action.js","redux/actions/app.action.js","components/Header.jsx","hoc/authorization.js","api.js","components/Login.jsx","components/Registration.jsx","components/OrderPanel.jsx","components/Order.jsx","components/Tables.jsx","redux/actions/tables.action.js","components/ManageUsers.jsx","components/Home.jsx","components/Invoice.jsx","components/InvoicesList.jsx","routes.js","App.jsx","redux/reducers/user.reducer.js","redux/reducers/app.reducer.js","redux/reducers/tables.reducer.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["connect","state","user","auth","app","authorization","props","className","to","routes","map","route","role_user","role","active","Provider","value","color","path","icon","name","ERole","USER","APP","TABLES","addUser","login","type","payload","authUser","dispatch","logoutUser","deleteUser","Dropdown","Toggle","variant","id","Menu","style","marginRight","onClick","e","Athorization","WrappedComponent","this","React","Component","sendRequestGET","url","data","callbackSuccess","callbackError","download","axios","get","params","token","localStorage","getItem","responseType","then","res","catch","error","response","sendRequestPOST","post","sendDataTablesForSave","CONFIG","sendDataUsersForSave","urlSaveUserTable","getInvoices","year","urlGetInvoices","getInvoiceDOCX","ids","urlGetInvoiceDOCX","sendInvoicesChanges","invoiceData","urlSendInvoiceChanges","Login","createRef","password","preventDefault","current","console","log","NotificationManager","warning","setItem","jwt","success","history","push","err","urlLogin","Form","display","flexDirection","width","FloatingLabel","controlId","label","Control","ref","placeholder","autoFocus","onLogin","bind","contextTypes","router","Registration","repeatePassword","typeField","length","validateField","target","urlRegistration","registration","_data","onBlur","onBlurInput","Select","registrationUser","OrderPanel","count","price","allPrice","refColor","refMaterial","setState","toggler","reCalcAllPrice","deleteOrderFromArrayById","onChange","onChangeName","required","defaultValue","onChangeCount","onChangeMainPrice","disabled","addOrderToArray","material","Order","stateOrderPanel","size","additional_info_active","numberOrder","additional","delivery","assembly","entering","assemblyAndEntering","orders","validatation","client_name","client_phone","client_address","siteName","week","dateDelivery","delivery_price","assembly_price","entering_price","assemblyAndEntering_price","checked","currentStateOrders","reduce","prev","cur","window","confirm","splice","clientData","phone","address","additionalData","client","urlNewOrder","key","urlNumberOrder","add","_e","remove","filter","item","toLowerCase","Number","FLabel","_props","mark","_key","hasValidation","isInvalid","includes","validate","title","selected","onKeyDown","onPressWeekInput","order","i","onClickAddOrder","cursor","marginTop","onClickAdditionalInfo","Check","onChangeDelivery","onChangeAssembly","onChangeEntering","onChangeAssemblyAndEntering","onSendThisOrder","prices","Tables","priceFormatterColor","cell","row","status","tableName","exelTableData","Date","getFullYear","checkNumber","num","isNaN","valid","message","prodColumns","text","dataField","sort","textFilter","validator","newValue","column","headerStyle","colum","colIndex","selectFilter","options","formatter","editor","Type","SELECT","controlColumns","isSelect","rowIndex","rows","updateOrders","urlGetProdOrders","getProdOrders","reverse","urlGetControlOrders","getControlOrders","location","pathname","textAlign","fontFamily","fontSize","marginBottom","selectYearAndReloadData","striped","hover","condensed","bordered","keyField","columns","cellEdit","cellEditFactory","mode","afterSaveCell","oldValue","editCellFromRedux","filterFactory","filterPosition","selectRow","clickToSelect","clickToEdit","onSelect","onSelectForExelTable","onSelectAll","onSelectAllForExelTable","pagination","paginationFactory","thData","col","save","table","filename","sheet","buttonText","editCell","method","saveDataFromTables","Users","editable","urlGetUsers","addChange","saveChanges","f","Home","Invoice","prods","selectedRows","invoiceRef","mainData","FileDownload","id_fc","id_iv","index","units","addInvoiceChange","curr","prod","saveInvoiceChanges","selectOption","inputPrice","onKeyPress","changeInput","deliver_back","src","alt","switchImage","site_name","date_order","newRow","deleteRow","saveInvoice","printInvoice","action","InvoicesList","invoices","activeInvoice","activeRow","selectedYear","selectedWeek","deliverVisible","selectInvoices","countItemsInPage","currentPage","maxCountPages","deliverNumberOrder","updateListInvoices","detail","indexSelected","sel","arr","invoice","urlPostInvoiceDeliverBack","startAt","Array","keys","Math","ceil","page","weeks","_","countPages","selectWeekAndReloadData","onEventHandlerForLabel","Fragment","createDeliverBack","ButtonToolbar","ButtonGroup","Button","toBackward","range","pickPage","toForward","printSelected","isNavBar","isPrivate","component","App","userActive","urlAuth","Authorization","initialStateUser","changes","initialStateApp","invoicesChanges","initTablesState","rootReducer","combineReducers","removeItem","tables","composeEnhancers","composeWithDevTools","trace","traceLimit","store","createStore","applyMiddleware","thunkMiddleware","next","syncActivityFinished","actionQueue","flushQueue","forEach","a","actionWithAsyncDispatch","Object","assign","asyncDispatch","asyncAction","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dd1549a5.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\"\r\nimport \"../styles/SideBar.scss\"\r\nimport { IconContext } from \"react-icons\"\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction SideBar(props) {\r\n\treturn (\r\n\t\t<div className=\"sidebar\">\r\n\t\t\t<div className=\"logo_wrapper\">\r\n\t\t\t\t<Link to=\"/\"><span className=\"logo\">FornitureWorker</span></Link>\r\n\t\t\t</div>\r\n\t\t\t<ul className=\"sidebar_ul\">\r\n\t\t\t\t{\r\n\t\t\t\tprops.routes.map(route => {\r\n\t\t\t\t\tif(route.role_user >= props.user.role && !!props.user.active && !!props.auth)\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<li key={route.path}>\r\n\t\t\t\t\t\t\t\t<IconContext.Provider value={{ color: \"white\", className: \"icon_header\" }}>\r\n\t\t\t\t\t\t\t\t\t<Link to={route.path}>{route.icon}{route.name}</Link>\r\n\t\t\t\t\t\t\t\t</IconContext.Provider>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tuser: state.user,\r\n\tauth: state.app.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, null)(SideBar)","export const ERole = {\r\n\tADMIN: 0,\r\n\tEDITOR: 1,\r\n\tMODERATOR: 2,\r\n\tUSER: 3,\r\n\r\n\t// for non-authorization users\r\n\tNON: 999\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// -------------------------------- CONSTS -------------------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\n\r\n// ACTIONS FOR USER\r\nexport const USER = {\r\n\tADD_USER: \"USER/ADD\",\r\n\tDELETE_USER: \"USER/DELETE\",\r\n\r\n\r\n\tADD_CHANGE: \"USERS/ADD_CHANGE\",\r\n\tSAVE_CHANGES: \"USERS/SAVE_CHANGES\"\r\n}\r\n\r\n// ACTIONS FOR APP\r\nexport const APP = {\r\n\tAUTH: \"APP/AUTH\",\r\n\tLOGOUT: \"APP/LOGOUT\",\r\n\r\n\tINVOICE_ADD_CHANGE: \"APP/INVOICE_ADD_CHANGE\",\r\n\tINVOICE_SAVE_CHANGES: \"APP/INVOICE_SAVE_CHANGES\"\r\n}\r\n\r\n// ACTIONS FOR TABLES\r\nexport const TABLES = {\r\n\tEDIT_CELL: \"TABLES/EDIT_CELL\",\r\n\tSAVE_DATA: \"TABLES/SAVE_DATA\"\r\n}","import { USER } from \"../types\"\r\n\r\nexport const addUser = (login,  name, role, active) => ({\r\n\ttype: USER.ADD_USER,\r\n\tpayload: {\r\n\t\tlogin,\r\n\t\tname,\r\n\t\trole,\r\n\t\tactive\r\n\t}\r\n})\r\nexport const deleteUser = () => ({\r\n\ttype: USER.DELETE_USER\r\n})\r\n\r\nexport const addChange = (id, col, value) => ({\r\n\ttype: USER.ADD_CHANGE,\r\n\tpayload: {id, col, value}\r\n})\r\n\r\nexport const save = () => ({\r\n\ttype: USER.SAVE_CHANGES\r\n})\r\n\r\n\r\n","import { APP } from \"../types\"\r\n\r\nexport const authUser = (auth) => ({\r\n\ttype: APP.AUTH,\r\n\tpayload: auth\r\n})\r\n\r\nexport const logoutUser = () => ({\r\n\ttype: APP.LOGOUT,\r\n\tpayload: false\r\n})\r\n\r\n\r\nexport const addInvoiceChange = change => ({\r\n\ttype: APP.INVOICE_ADD_CHANGE,\r\n\tpayload: change\r\n})\r\n\r\nexport const saveInvoiceChanges = (invoiceData) => ({\r\n\ttype: APP.INVOICE_SAVE_CHANGES,\r\n\tpayload: invoiceData\r\n})","import { Link } from \"react-router-dom\"\r\nimport { Dropdown } from \"react-bootstrap\"\r\nimport { FaCog, FaSignOutAlt } from 'react-icons/fa'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { deleteUser } from '../redux/actions/users.action'\r\nimport { logoutUser } from '../redux/actions/app.action'\r\n\r\nimport \"../styles/Header.scss\"\r\n\r\n\r\nfunction Header(props) {\r\n\r\n\tconst logout = (e) => {\r\n\t\tprops.logoutUser()\r\n\t\tprops.deleteUser()\r\n\t}\r\n\r\n\treturn (\r\n\t\t<header className=\"main_header\">\r\n\t\t\t{\r\n\t\t\t\tprops.auth && \r\n\t\t\t\t\t<Dropdown>\r\n\t\t\t\t\t\t<Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\r\n\t\t\t\t\t\t\t{props.user.login}\r\n\t\t\t\t\t\t</Dropdown.Toggle>\r\n\r\n\t\t\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t\t\t<Link className=\"dropdown-item\" to=\"/my_settings\"><FaCog style={{marginRight: \"5px\"}}/>Настройки</Link>\r\n\t\t\t\t\t\t\t<Link className=\"dropdown-item\" to=\"/\" onClick={logout}><FaSignOutAlt  style={{marginRight: \"5px\"}}/>Выйти</Link>\r\n\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t</Dropdown>\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\t\t!props.auth &&\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Link className=\"btn btn-primary button_login\" to=\"/registration\">Зарегистрироваться</Link>\r\n\t\t\t\t\t\t<Link className=\"btn btn-primary button_login\" to=\"/login\">Войти</Link>\r\n\t\t\t\t\t</>\r\n\t\t\t}\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tuser: state.user,\r\n\tauth: state.app.authorization\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tlogoutUser: () => dispatch(logoutUser()),\r\n\tdeleteUser: () => dispatch(deleteUser())\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst Athorization = (WrappedComponent, auth) => {\r\n  class WithAuthorization extends React.Component {\r\n    render() {\r\n\r\n      if (!auth) {\r\n        return <Redirect to=\"/login\" />\r\n      }\r\n\r\n      return <WrappedComponent {...this.props}/>\r\n    }\r\n  }\r\n  return WithAuthorization\r\n};\r\n\r\nexport default Athorization\r\n","// данный модуль предполагает наличие всех необходимых функций для вд с api\r\n\r\nimport axios from 'axios'\r\nimport * as CONFIG from \"./config.json\"\r\n\r\n// -----------------------------------------------------------------------------\r\n// ---------------------------- Basic Functions --------------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\nconst sendRequestGET = (url, data, callbackSuccess, callbackError, download=false) => {\r\n\taxios.get(url, { params: {...data, token: localStorage.getItem(\"token\")}, responseType: download? 'blob': \"json\" })\r\n\t\t.then(res => callbackSuccess(res.data))\r\n\t\t.catch(error => callbackError(error.response))\r\n};\r\n\r\nconst sendRequestPOST = (url, data, callbackSuccess, callbackError, download=false) => {\r\n\taxios.post(url, {...data, token: localStorage.getItem(\"token\")}, { responseType: download? 'blob': \"json\" })\r\n\t\t.then(res => {\r\n\t\t\tcallbackSuccess(res.data)\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tcallbackError(error.response)\r\n\t\t});\r\n};\r\n\r\n// -----------------------------------------------------------------------------\r\n// --------------------------------- Orders ------------------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\n\r\nexport const sendOrder = (client, additional, orders, callbackSuccess, callbackError) => {\r\n\tsendRequestPOST(CONFIG.HOST + CONFIG.URLS_API.urlNewOrder, {\r\n\t\tclient,\r\n\t\tadditional,\r\n\t\torders\r\n\t}, callbackSuccess, callbackError)\r\n}\r\n\r\nexport const getProdOrders = (year, callbackSuccess, callbackError) => {\r\n\tsendRequestGET(CONFIG.HOST + CONFIG.URLS_API.urlGetProdOrders, {\r\n\t\ttype: \"prod\",\r\n\t\tyear\r\n\t}, callbackSuccess, callbackError)\r\n}\r\n\r\nexport const getControlOrders = (year, callbackSuccess, callbackError) => {\r\n\tsendRequestGET(CONFIG.HOST + CONFIG.URLS_API.urlGetControlOrders, {\r\n\t\ttype: \"control\",\r\n\t\tyear\r\n\t}, callbackSuccess, callbackError)\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// --------------------------------- Users -------------------------------------\r\n// -----------------------------------------------------------------------------\r\n\r\nexport const getUsers = (callbackSuccess, callbackError) => {\r\n\tsendRequestGET(CONFIG.HOST + CONFIG.URLS_API.urlGetUsers, {}, callbackSuccess, callbackError)\r\n}\r\n\r\nexport const getNumberOrder = (week, year, callbackSuccess, callbackError) => {\r\n\tsendRequestGET(CONFIG.HOST + CONFIG.URLS_API.urlNumberOrder, { week, year }, callbackSuccess, callbackError)\r\n}\r\n\r\n//------------------------------------------------------------------------------\r\n// ----------------- Registration, authorization, authitication-----------------\r\n//------------------------------------------------------------------------------\r\n\r\nexport const registration = (data, callbackSuccess, callbackError) => {\r\n\tsendRequestPOST(CONFIG.HOST + CONFIG.URLS_API.urlRegistration, data, callbackSuccess, callbackError)\r\n}\r\n\r\nexport const login = (data, callbackSuccess, callbackError) => {\r\n\tsendRequestPOST(CONFIG.HOST + CONFIG.URLS_API.urlLogin, data, callbackSuccess, callbackError)\r\n}\r\nexport const auth = (jwt, callbackSuccess, callbackError) => {\r\n\tsendRequestPOST(CONFIG.HOST + CONFIG.URLS_API.urlAuth, { jwt }, callbackSuccess, callbackError)\r\n}\r\n\r\n//------------------------------------------------------------------------------\r\n// ------------------------- API for working with TABLES -----------------------\r\n//------------------------------------------------------------------------------\r\n\r\nexport const sendDataTablesForSave = (url, data, callbackSuccess, callbackError) => {\r\n\tsendRequestPOST(CONFIG.HOST + url, { data }, callbackSuccess, callbackError)\r\n}\r\n\r\n//------------------------------------------------------------------------------\r\n// -------------------------------- API  -  USERS ------------------------------\r\n//------------------------------------------------------------------------------\r\n\r\nexport const sendDataUsersForSave = (data, callbackSuccess, callbackError) => {\r\n\tsendRequestPOST(CONFIG.HOST + CONFIG.URLS_API.urlSaveUserTable, { data }, callbackSuccess, callbackError)\r\n}\r\n\r\n//------------------------------------------------------------------------------\r\n// ------------------------------ API  -  INVOICES -----------------------------\r\n//------------------------------------------------------------------------------\r\n\r\nexport const getInvoices = (year, callbackSuccess, callbackError) => {\r\n\tsendRequestGET(CONFIG.HOST + CONFIG.URLS_API.urlGetInvoices, {\r\n\t\ttype: \"main\",\r\n\t\tyear\r\n\t}, callbackSuccess, callbackError)\r\n}\r\n\r\nexport const getInvoiceOrders = (callbackSuccess, callbackError) => {\r\n\tsendRequestGET(CONFIG.HOST + CONFIG.URLS_API.urlGetInvoices, {\r\n\t\ttype: \"prods\"\r\n\t}, callbackSuccess, callbackError)\r\n}\r\n\r\nexport const getInvoiceDOCX = (ids, callbackSuccess, callbackError) => {\r\n\tsendRequestGET(CONFIG.HOST + CONFIG.URLS_API.urlGetInvoiceDOCX, {\r\n\t\tids\r\n\t}, callbackSuccess, callbackError, true)\r\n}\r\n\r\nexport const postNewInvoiceDeliverBack = (id_fc, callbackSuccess, callbackError) => {\r\n\tsendRequestPOST(CONFIG.HOST + CONFIG.URLS_API.urlPostInvoiceDeliverBack, {\r\n\t\tid_fc\r\n\t}, callbackSuccess, callbackError)\r\n}\r\n\r\nexport const sendInvoicesChanges = (invoiceData, data, callbackSuccess, callbackError) => {\r\n\tsendRequestPOST(CONFIG.HOST + CONFIG.URLS_API.urlSendInvoiceChanges, {\r\n\t\tdata,\r\n\t\t...invoiceData\r\n\t}, callbackSuccess, callbackError)\r\n}","import React from \"react\"\r\nimport { NotificationManager } from \"react-notifications\"\r\nimport { Form, FloatingLabel } from \"react-bootstrap\"\r\nimport { login } from \"../api\"\r\nimport { addUser } from \"../redux/actions/users.action\"\r\nimport { connect } from \"react-redux\"\r\nimport { authUser } from \"../redux/actions/app.action\"\r\n\r\nimport \"../styles/Forms.scss\"\r\n// import { BrowserHistory } from \"react-router\"\r\n\r\nclass Login extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\r\n\t\tthis.login = React.createRef()\r\n\t\tthis.password = React.createRef()\r\n\t}\r\n\tstatic contextTypes = {\r\n\t\trouter: () => true, // replace with PropTypes.object if you use them\r\n\t }\r\n\r\n\tonLogin(e){\r\n\t\te.preventDefault()\r\n\t\tlogin({\r\n\t\t\tlogin: this.login.current.value, \r\n\t\t\tpassword: this.password.current.value\r\n\t\t}, data => {\r\n\t\t\tconsole.log(data)\r\n\t\t\tif(!data.error){\r\n\t\t\t\tlocalStorage.setItem(\"token\", data.jwt)\r\n\t\t\t\tNotificationManager.success(\"Вы авторизованы!\", \"OK\", 3000)\r\n\t\t\t\tthis.props.addUser(data.login, data.name, data.role, data.active)\r\n\t\t\t\tthis.props.authUser(true)\r\n\t\t\t\tthis.props.history.push(\"/\")\r\n\t\t\t}\r\n\t\t\telse NotificationManager.warning(\"Неверный логин или пароль\", \"Ошибка\", 3000)\r\n\t\t}, err => {\r\n\t\t\tNotificationManager.warning(\"Ошибка на сервере(\", \"Ошибка\", 3000)\r\n\t\t})\r\n\t}\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"main\">\r\n\t\t\t\t<Form className=\"login-form\" style={{display: \"flex\", flexDirection: \"column\", width: \"400px\"}}>\r\n\t\t\t\t\t<h2>Авторизация</h2>\r\n\t\t\t\t\t<FloatingLabel controlId=\"floatingInput\" label=\"Логин\" className=\"mb-12\">\r\n\t\t\t\t\t\t<Form.Control ref={this.login} type=\"text\" placeholder=\"Иванов Иван Иванович\" name=\"login\" autoFocus/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t<FloatingLabel controlId=\"floatingInput\" label=\"Пароль\" className=\"mb-12\">\r\n\t\t\t\t\t\t<Form.Control ref={this.password} type=\"password\" placeholder=\"Login\" name=\"password\"/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.onLogin.bind(this)}>Войти</button>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nconst mapStateToProps = state => ({\r\n\tauth: state.app.authorization\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\taddUser: (login,  name, role, active) => dispatch(addUser(login,  name, role, active)),\r\n\tauthUser: (auth) => dispatch(authUser(auth))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)","import React from \"react\"\r\nimport { NotificationManager } from \"react-notifications\"\r\nimport { Form, FloatingLabel } from \"react-bootstrap\"\r\nimport { registration } from \"../api\"\r\n\r\nimport \"../styles/Forms.scss\"\r\n\r\nclass Registration extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\r\n\t\t}\r\n\r\n\t\tthis.name = React.createRef()\r\n\t\tthis.login = React.createRef()\r\n\t\tthis.role = React.createRef()\r\n\t\tthis.password = React.createRef()\r\n\t\tthis.repeatePassword = React.createRef()\r\n\r\n\t}\r\n\tvalidateField(typeField, value){\r\n\t\tswitch(typeField){\r\n\t\t\tcase \"ФИО\": return value.length >= 3\r\n\t\t\tcase \"Логин\": return value.length >= 4\r\n\t\t\tcase \"Пароль\": return value.length > 8\r\n\t\t}\r\n\t}\r\n\r\n\tonBlurInput(e, typeField){\r\n\t\tconsole.log(this.validateField(typeField, e.target.value))\r\n\t\t!this.validateField(typeField, e.target.value) && NotificationManager.warning(`Вы ввели некоректные данные: ${typeField}`, \"Предупреждение\", 2000)\r\n\t}\r\n\r\n\tregistrationUser(e){\r\n\t\te.preventDefault()\r\n\t\t\r\n\t\tif(this.repeatePassword.current.value === this.password.current.value){\r\n\t\t\tconst data = {\r\n\t\t\t\tname: this.name.current.value,\r\n\t\t\t\tlogin: this.login.current.value,\r\n\t\t\t\trole: this.role.current.value,\r\n\t\t\t\tpassword: this.password.current.value,\r\n\t\t\t}\r\n\t\t\tregistration(data, _data => {\r\n\t\t\t\tlocalStorage.setItem(\"token\", _data.jwt)\r\n\t\t\t\tthis.props.history.push(\"/\")\r\n\t\t\t\tNotificationManager.success('Ваш аккаунт в БД! Теперь дождитесь, чтобы ваш аккаунт активировали', 'Ок!', 3000);\r\n\t\t\t}, (err) => NotificationManager.error('Ошибка на стороне сервера!', 'Ошибка', 3000))\r\n\t\t}\r\n\t\telse\r\n\t\t\tNotificationManager.warning('Пароли не совпадают!', 'Ошибка', 3000);\r\n\t}\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"main\">\r\n\t\t\t\t<Form className=\"registration-form\" style={{display: \"flex\", flexDirection: \"column\", width: \"400px\"}}>\r\n\r\n\t\t\t\t\t<h2>Регистрация</h2>\r\n\t\t\t\t\t<FloatingLabel controlId=\"floatingInput\" label=\"ФИО\" className=\"mb-12\">\r\n\t\t\t\t\t\t<Form.Control ref={this.name} type=\"text\" placeholder=\"Иванов Иван Иванович\" onBlur={e => this.onBlurInput(e, \"ФИО\")} autoFocus/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t<FloatingLabel controlId=\"floatingInput\" label=\"Логин\" className=\"mb-12\">\r\n\t\t\t\t\t\t<Form.Control  ref={this.login} type=\"text\" placeholder=\"Login\" onBlur={e => this.onBlurInput(e, \"Логин\")}/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Form.Select name=\"\" id=\"\" ref={this.role}>\r\n\t\t\t\t\t\t<option value=\"3\">Пользователь</option>\r\n\t\t\t\t\t\t<option value=\"2\">Модератор</option>\r\n\t\t\t\t\t\t<option value=\"1\">Редактор</option>\r\n\t\t\t\t\t\t<option value=\"0\">Администратор</option>\r\n\t\t\t\t\t</Form.Select>\r\n\r\n\t\t\t\t\t<FloatingLabel controlId=\"floatingInput\" label=\"Пароль\" className=\"mb-12\">\r\n\t\t\t\t\t\t<Form.Control ref={this.password} type=\"password\" placeholder=\"Иванов Иван Иванович\" onBlur={e => this.onBlurInput(e, \"Пароль\")}/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t<FloatingLabel controlId=\"floatingInput\" label=\"Повторение пароля\" className=\"mb-12\">\r\n\t\t\t\t\t\t<Form.Control ref={this.repeatePassword} type=\"password\" placeholder=\"Иванов Иван Иванович\" autoFocus/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.registrationUser.bind(this)}>Зарегистрироваться</button>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Registration","import React from 'react';\r\nimport { connect } from \"react-redux\" \r\nimport { FloatingLabel, Form } from \"react-bootstrap\"\r\nimport { FaTimes } from \"react-icons/fa\"\r\n\r\nimport \"../styles/Order.scss\"\r\n\r\nclass OrderPanel extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\t// Order\r\n\t\t\tid: -1,\r\n\t\t\tname: \"\",\r\n\t\t\t// size: \"\",\r\n\t\t\t// color: \"\",\r\n\t\t\t// material: \"\",\r\n\t\t\tcount: 1,\r\n\t\t\tprice: 0,\r\n\t\t\tallPrice: 0\r\n\t\t}\r\n\r\n\t\t// Refs for input components\r\n\t\tthis.refColor = React.createRef()\r\n\t\tthis.refMaterial = React.createRef()\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.setState({ id: this.props.id })\r\n\t}\r\n\r\n\t// For changing fields and recalc prices\r\n\treCalcAllPrice(current, toggler){\r\n\t\tswitch(toggler){\r\n\t\t\tcase 0:\r\n\t\t\t\treturn this.state.price * current\r\n\t\t\tcase 1:\r\n\t\t\t\treturn current * this.state.count\r\n\t\t\tdefault:\r\n\t\t\t\treturn 0\r\n\t\t}\r\n\t}\r\n\r\n\tonChangeName(e){ this.setState({ name: e.target.value }) }\r\n\tonChangeCount(e){ this.setState({ count: +e.target.value, allPrice: this.reCalcAllPrice(+e.target.value, 0) }) }\r\n\tonChangeMainPrice(e){ this.setState({ price: +e.target.value, allPrice: this.reCalcAllPrice(+e.target.value, 1) }) }\r\n\t\r\n\r\n\t// events for parent component - ./Order\r\n\r\n\r\n\r\n\trender(){\r\n\t\tconst FInput = _props => {\r\n\t\t\treturn (\r\n\t\t\t\t<FloatingLabel\r\n\t\t\t\t\tcontrolId=\"floatingInput\"\r\n\t\t\t\t\tlabel={_props.label}\r\n\t\t\t\t\tclassName=\"mb-12\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Control {..._props} stype={_props.type} placeholder={_props.placeholder} required/>\r\n\t\t\t\t</FloatingLabel>\r\n\t\t\t)\r\n\t\t}\r\n\t\tconst FLabel = _props => {\r\n\t\t\treturn (\r\n\t\t\t\t<p className={\"FLabel_line\" + (_props.mark? \" mark_bold\" : \"\")}>\r\n\t\t\t\t\t<span className=\"line_key_span\">{_props._key}</span>\r\n\t\t\t\t\t<span className=\"line_value_span\">{_props.value}</span>\r\n\t\t\t\t</p>\r\n\t\t\t)\t\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<div className=\"order_panel\">\r\n\t\t\t\t{/* <h2>Заказ #{this.props.id + 1} - {this.state.name}</h2> */}\r\n\r\n\t\t\t\t<div className=\"order_panel_close\" onClick={e => this.props.deleteOrderFromArrayById(this.state.id)}>\r\n\t\t\t\t\t<FaTimes />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"oreder_panel_main_info\">\r\n\t\t\t\t\t<span className=\"order_panel_id\">#{this.props.id + 1}</span>\r\n\t\t\t\t\t<FloatingLabel style={{width: \"40%\"}} controlId=\"floatingInput\" label=\"Наименование\" className=\"mb-12\">\r\n\t\t\t\t\t\t<Form.Control ref={this.name} type=\"text\" placeholder=\"Стул\" onChange={this.onChangeName.bind(this)} required/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\r\n\t\t\t\t\t<Form.Select style={{width: \"12%\"}} ref={this.refMaterial} aria-label=\"Default select example\" className=\"order_panel_select select_material\">\r\n\t\t\t\t\t\t<option>Матер.</option>\r\n\t\t\t\t\t\t<option value=\"Сосна\">Сосна</option>\r\n\t\t\t\t\t\t<option value=\"Береза\">Береза</option>\r\n\t\t\t\t\t\t<option value=\"Бук\">Бук</option>\r\n\t\t\t\t\t\t<option value=\"Дуб\">Дуб</option>\r\n\t\t\t\t\t\t<option value=\"Ясень\">Ясень</option>\r\n\t\t\t\t\t</Form.Select>\r\n\r\n\t\t\t\t\t<Form.Select style={{width: \"10%\"}} ref={this.refColor} aria-label=\"Default select example\" className=\"order_panel_select select_color\">\r\n\t\t\t\t\t\t<option>Цвет</option>\r\n\t\t\t\t\t\t<option value=\"лак\">лак</option>\r\n\t\t\t\t\t\t<option value=\"Венге-1\">Венге-1</option>\r\n\t\t\t\t\t\t<option value=\"Венге-2\">Венге-2</option>\r\n\t\t\t\t\t\t<option value=\"Венге-3\">Венге-3</option>\r\n\t\t\t\t\t</Form.Select>\r\n\r\n\r\n\r\n\t\t\t\t\t<FloatingLabel style={{width: \"8%\"}} controlId=\"floatingInput\" label=\"Кол\" className=\"mb-12\">\r\n\t\t\t\t\t\t<Form.Control ref={this.count} type=\"number\" placeholder=\"4\" defaultValue={1} onChange={this.onChangeCount.bind(this)} required/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\r\n\t\t\t\t\t<FloatingLabel style={{width: \"14%\"}} controlId=\"floatingInput\" label=\"Цена\" className=\"mb-12\">\r\n\t\t\t\t\t\t<Form.Control ref={this.price} type=\"number\" placeholder=\"540\" defaultValue={0} onChange={this.onChangeMainPrice.bind(this)} required/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t<FloatingLabel style={{width: \"14%\"}} controlId=\"floatingInput\" label=\"Сумма\" className=\"mb-12\">\r\n\t\t\t\t\t\t<Form.Control disabled ref={this.price} type=\"number\" placeholder=\"540\" value={this.state.price * this.state.count} onChange={this.onChangeMainPrice.bind(this)} required/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t<button \r\n\t\t\t\t\t\tclassName=\"btn btn-primary apply_order\" \r\n\t\t\t\t\t\tonClick={e => this.props.addOrderToArray(e, {...this.state, color: this.refColor.current.value, material: this.refMaterial.current.value})}\r\n\t\t\t\t\t>Применить\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n}\r\n\r\nexport default OrderPanel","import React from 'react';\r\nimport { FloatingLabel, Form, InputGroup } from \"react-bootstrap\"\r\nimport { NotificationManager } from 'react-notifications'\r\nimport { FaSortDown } from \"react-icons/fa\"\r\nimport { connect } from 'react-redux'\r\n\r\nimport OrderPanel from \"./OrderPanel\"\r\nimport { getNumberOrder, sendOrder } from \"../api\"\r\n\r\nimport \"../styles/Order.scss\"\r\n\r\nclass Order extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\r\n\t\tthis.stateOrderPanel = {\r\n\t\t\tid: 0,\r\n\t\t\tname: \"\",\r\n\t\t\tsize: \"\",\r\n\t\t\tcount: 0,\r\n\t\t\tprice: 0,\r\n\t\t\tallPrice: 0\r\n\t\t}\r\n\r\n\t\tthis.state = {\r\n\t\t\t// Components state\r\n\t\t\tadditional_info_active: false,\r\n\r\n\t\t\tnumberOrder: 0,\r\n\t\t\tadditional: {\r\n\t\t\t\tdelivery: false,\r\n\t\t\t\tassembly: false,\r\n\t\t\t\tentering: false,\r\n\t\t\t\tassemblyAndEntering: false\r\n\t\t\t},\r\n\t\t\torders: [this.stateOrderPanel],\r\n\t\t\tallPrice: 0, \r\n\t\t\tvalidatation: []\r\n\t\t}\r\n\r\n\t\t// for Client\r\n\t\tthis.client_name = React.createRef()\r\n\t\tthis.client_phone = React.createRef()\r\n\t\tthis.client_address = React.createRef()\r\n\r\n\t\t// for order\r\n\t\tthis.siteName = React.createRef()\r\n\t\tthis.week = React.createRef()\r\n\t\tthis.dateDelivery = React.createRef()\r\n\t\tthis.year = React.createRef()\r\n\r\n\t\t// additional info for prices \r\n\t\tthis.delivery_price = React.createRef()\r\n\t\tthis.assembly_price = React.createRef()\r\n\t\tthis.entering_price = React.createRef()\r\n\t\tthis.assemblyAndEntering_price = React.createRef()\r\n\t}\r\n\r\n\tonClickAddOrder(e){\r\n\t\tthis.setState({ orders: [...this.state.orders, this.stateOrderPanel] })\r\n\t}\r\n\r\n\t// events for components\r\n\tonClickAdditionalInfo(){\r\n\t\tthis.setState({ additional_info_active: !this.state.additional_info_active })\r\n\t}\r\n\r\n\tonChangeDelivery(e){ this.setState({ additional: {...this.state.additional, delivery: e.target.checked } }) }\r\n\tonChangeAssembly(e){ this.setState({ additional: {...this.state.additional, assembly: e.target.checked } }) }\r\n\tonChangeEntering(e){ this.setState({ additional: {...this.state.additional, entering: e.target.checked } }) }\r\n\tonChangeAssemblyAndEntering(e){ this.setState({ additional: {...this.state.additional, assemblyAndEntering: e.target.checked } }) }\r\n\r\n\t//---------------------------------------------------------------------------\r\n\t//------------------------------ORDER EVENTS--------------------------------\r\n\t//---------------------------------------------------------------------------\r\n\r\n\taddOrderToArray(e, data){\r\n\t\te.preventDefault()\r\n\t\tconsole.log(data)\r\n\t\tlet currentStateOrders = this.state.orders\r\n\t\tcurrentStateOrders[data.id] = data\r\n\t\tthis.setState({ orders: currentStateOrders, allPrice: currentStateOrders.reduce((prev, cur) => {return prev + cur.allPrice}, 0) })\r\n\t}\r\n\r\n\tdeleteOrderFromArrayById(id){\r\n\t\tif(window.confirm(\"Вы уверены? Данные для этого заказа не сохранятся.\")){\r\n\t\t\tlet currentStateOrders = this.state.orders\r\n\t\t\tcurrentStateOrders.splice(id, 1)\r\n\t\t\tthis.setState({ orders: currentStateOrders })\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t// main method for sending order to server\r\n\tonSendThisOrder(e){\r\n\t\te.preventDefault()\r\n\t\tif(this.state.validatation.length === 0){\r\n\t\t\tconst clientData = {\r\n\t\t\t\tname: this.client_name.current.value,\r\n\t\t\t\tphone: this.client_phone.current.value,\r\n\t\t\t\taddress: this.client_address.current.value,\r\n\t\t\t}\r\n\t\t\tconst additionalData = {\r\n\t\t\t\tsiteName: this.siteName.current.value,\r\n\t\t\t\tweek: +this.week.current.value,\r\n\t\t\t\tdateDelivery: this.dateDelivery.current.value,\r\n\t\t\t\tid: this.state.numberOrder,\r\n\t\t\t\tyear: +this.year.current.value,\r\n\t\r\n\t\t\t\tdelivery: this.state.additional.delivery,\r\n\t\t\t\tassembly: this.state.additional.assembly,\r\n\t\t\t\tentering: this.state.additional.entering,\r\n\t\t\t\tassemblyAndEntering: this.state.additional.assemblyAndEntering,\r\n\t\r\n\t\t\t\tdelivery_price: this.delivery_price.current.value,\r\n\t\t\t\tassembly_price: this.assembly_price.current.value,\r\n\t\t\t\tentering_price: this.entering_price.current.value,\r\n\t\t\t\tassemblyAndEntering_price: this.assemblyAndEntering_price.current.value,\r\n\t\t\t}\r\n\t\r\n\t\t\tsendOrder(clientData, additionalData, this.state.orders, (res) => {\r\n\t\t\t\tNotificationManager.success('Данные успешно отправлены', 'OK', 3000);\r\n\t\t\t}, (err) => NotificationManager.warning('Данные не отправились.', 'Ошибка', 3000))\r\n\t\t}\r\n\t\telse NotificationManager.error('Данные не корректны', 'Ошибка', 3000)\r\n\t}\r\n\r\n\tonPressWeekInput(e){\r\n\t\tif(e.key === \"Enter\"){\r\n\t\t\tgetNumberOrder(this.week.current.value, this.year.current.value, (data) => {\r\n\t\t\t\tthis.setState({ numberOrder: data.id })\r\n\t\t\t}, err => {console.log(err)})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidate(e){\r\n\t\tconst add = (_e) => this.setState({ validatation: [...this.state.validatation, _e.target.name] })\r\n\t\tconst remove = (_e) => this.setState({ validatation: this.state.validatation.filter(item => _e.target.name !== item) })\r\n\r\n\t\tswitch(e.target.name){\r\n\t\t\tcase \"name\":\r\n\t\t\t\t!(\te.target.value.length > 3 || \r\n\t\t\t\t\te.target.value == \"-\" || \r\n\t\t\t\t\te.target.value.toLowerCase() == \"нет\"\r\n\t\t\t\t)? add(e): remove(e); return\r\n\t\t\tcase \"phone\":\r\n\t\t\t\t!(e.target.value.length > 6)? add(e): remove(e); return\r\n\t\t\tcase \"address\":\r\n\t\t\t\t!(\te.target.value.length > 3 || \r\n\t\t\t\t\te.target.value == \"-\" || \r\n\t\t\t\t\te.target.value.toLowerCase() == \"нет\"\r\n\t\t\t\t)? add(e): remove(e); return\r\n\t\t\tcase \"week\":\r\n\t\t\t\t!(\t+e.target.value >= 1 && !!Number(e.target.value))?\r\n\t\t\t\tadd(e): remove(e); return\r\n\t\t\t\r\n\t\t\tcase \"date_deliver\":\r\n\t\t\t\t!(\te.target.value.length > 3 || \r\n\t\t\t\t\te.target.value == \"-\" || \r\n\t\t\t\t\te.target.value.toLowerCase() == \"нет\"\r\n\t\t\t\t)? add(e): remove(e); return\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log(\"Case don't registration\")\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst FLabel = _props => {\r\n\t\t\treturn (\r\n\t\t\t\t<p className={\"FLabel_line\" + (_props.mark? \" mark_bold\" : \"\")}>\r\n\t\t\t\t\t<span className=\"line_key_span\">{_props._key}</span>\r\n\t\t\t\t\t<span className=\"line_value_span\">{_props.value}</span>\r\n\t\t\t\t</p>\r\n\t\t\t)\t\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<Form className=\"Order_wrapper\">\r\n\t\t\t\t<div className=\"Order\">\r\n\t\t\t\t\t<h1>Формирование нового заказа</h1>\r\n\t\t\t\t\t<h2>Информация о клиенте</h2>\r\n\t\t\t\t\t<div className=\"top_panel\">\r\n\t\t\t\t\t\t<div className=\"order_form_user\">\r\n\t\t\t\t\t\t\t<FloatingLabel hasValidation controlId=\"floatingInput\" label=\"ФИО клиента\" className=\"mb-12\">\r\n\t\t\t\t\t\t\t\t\t<Form.Control isInvalid={this.state.validatation.includes(\"name\")} autoFocus\r\n\t\t\t\t\t\t\t\t\t\tref={this.client_name} \r\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Иванов Иван Иванович\"\r\n\t\t\t\t\t\t\t\t\t\tonBlur={e => this.validate(e)}\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"Впишите '-' или 'нет', чтобы не вписывать информацию\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FloatingLabel>\r\n\r\n\t\t\t\t\t\t\t<FloatingLabel hasValidation controlId=\"floatingInput\" label=\"Телефон\" className=\"mb-12\">\r\n\t\t\t\t\t\t\t\t<Form.Control required isInvalid={this.state.validatation.includes(\"phone\")}\r\n\t\t\t\t\t\t\t\t\t\tref={this.client_phone} \r\n\t\t\t\t\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"tel\" \r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"8 123 456 78 90\"\r\n\t\t\t\t\t\t\t\t\t\tonBlur={e => this.validate(e)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FloatingLabel>\r\n\r\n\t\t\t\t\t\t\t<FloatingLabel hasValidation controlId=\"floatingInput\" label=\"Адрес\" className=\"mb-12\">\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\tisInvalid={this.state.validatation.includes(\"address\")} \r\n\t\t\t\t\t\t\t\t\tonBlur={e => this.validate(e)} \r\n\t\t\t\t\t\t\t\t\tref={this.client_address} \r\n\t\t\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Впишите '-' или 'нет', чтобы не вписывать информацию\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"г. Муром, ул. Ленина, 19, кв. 9\"/>\r\n\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"order_form_additional\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form.Select ref={this.siteName} aria-label=\"Default select example\" className=\"select_site\">\r\n\t\t\t\t\t\t\t\t<option>Выберете сайт</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Krovati-spalni.ru\">Krovati-spalni.ru</option>\r\n\t\t\t\t\t\t\t\t<option value=\"мебельизсосны.рф\">мебельизсосны.рф</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Liman-murom.ru\">Liman-murom.ru</option>\r\n\t\t\t\t\t\t\t</Form.Select>\r\n\t\t\t\t\t\t\t<div className=\"within\">\r\n\t\t\t\t\t\t\t\t<Form.Select ref={this.year} aria-label=\"year\" className=\"select_year\">\r\n\t\t\t\t\t\t\t\t\t<option>Год</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"2021\" selected>2021</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"2022\">2022</option>\r\n\t\t\t\t\t\t\t\t</Form.Select>\r\n\t\t\t\t\t\t\t\t<FloatingLabel controlId=\"floatingInput\" label=\"№ недели\" className=\"mb-12\">\r\n\t\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\t\tisInvalid={this.state.validatation.includes(\"week\")} \r\n\t\t\t\t\t\t\t\t\t\tonBlur={e => this.validate(e)}\r\n\t\t\t\t\t\t\t\t\t\tname=\"week\"\r\n\t\t\t\t\t\t\t\t\t\tref={this.week} \r\n\t\t\t\t\t\t\t\t\t\tclassName=\"within_input\" \r\n\t\t\t\t\t\t\t\t\t\ttype=\"number\" \r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"33\" \r\n\t\t\t\t\t\t\t\t\t\tonKeyDown={this.onPressWeekInput.bind(this)} required/>\r\n\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t<FloatingLabel controlId=\"floatingInput\" label=\"№ заказа\" className=\"mb-12\">\r\n\t\t\t\t\t\t\t\t\t<Form.Control value={this.state.numberOrder} className=\"within_input\" disabled type=\"number\" placeholder=\"34\"/>\r\n\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<FloatingLabel hasValidation controlId=\"floatingInput\" label=\"Дата доставки\" className=\"mb-12\">\r\n\t\t\t\t\t\t\t\t<Form.Control \r\n\t\t\t\t\t\t\t\t\tisInvalid={this.state.validatation.includes(\"date_deliver\")} \r\n\t\t\t\t\t\t\t\t\tonBlur={e => this.validate(e)} \r\n\t\t\t\t\t\t\t\t\tref={this.dateDelivery} \r\n\t\t\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\t\t\tname=\"date_deliver\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Впишите '-' или 'нет', чтобы не вписывать информацию\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"34.4.2032\"/>\r\n\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h2>Заказы</h2>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.orders.map((order, i) => {\r\n\t\t\t\t\t\t\treturn <OrderPanel id={i} deleteOrderFromArrayById={this.deleteOrderFromArrayById.bind(this)} addOrderToArray={this.addOrderToArray.bind(this)}/>\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button onClick={this.onClickAddOrder.bind(this)} className=\"btn btn-primary button_add_order\">Добавить заказ</button>\r\n\t\t\t\t\t<p className=\"dfrowaic\" style={{cursor: \"pointer\", marginTop: \"10px\"}} onClick={this.onClickAdditionalInfo.bind(this)}>\r\n\t\t\t\t\t\tДополнительно {!this.state.additional_info_active? <FaSortDown />: <>:</>}\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<div className=\"additional_info\" style={{display: this.state.additional_info_active? \"block\": \"none\"}}>\r\n\t\t\t\t\t\t<Form.Check type=\"checkbox\" id={`delivery`}\r\n\t\t\t\t\t\t\t// label={<span>Доставка<span className=\"price_grey\"><input ref={this.delivery_price} type=\"number\" pattern=\"[0-9]{5}\"/> руб</span></span>}\r\n\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<span>Доставка</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"price_grey\">\r\n\t\t\t\t\t\t\t\t\t\t<input className=\"form-control\" ref={this.delivery_price} type=\"number\"/> \r\n\t\t\t\t\t\t\t\t\tруб</span>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonChange={this.onChangeDelivery.bind(this)}/>\r\n\r\n\t\t\t\t\t\t<Form.Check type=\"checkbox\" id={`assembly`} \r\n\t\t\t\t\t\t\t// label={<span>Сборка<span className=\"price_grey\"> <input ref={this.assembly_price} type=\"number\"/> руб</span></span>}\r\n\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<span>Сборка</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"price_grey\">\r\n\t\t\t\t\t\t\t\t\t\t<input className=\"form-control\" ref={this.assembly_price} type=\"number\"/> \r\n\t\t\t\t\t\t\t\t\tруб</span>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonChange={this.onChangeAssembly.bind(this)}/>\r\n\r\n\t\t\t\t\t\t<Form.Check type=\"checkbox\" id={`entering`}\r\n\t\t\t\t\t\t\t// label={<span>Занос<span className=\"price_grey\"><input ref={this.entering_price} type=\"number\"/> руб</span></span>}\r\n\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<span>Занос</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"price_grey\">\r\n\t\t\t\t\t\t\t\t\t\t<input className=\"form-control\" ref={this.entering_price} type=\"number\"/> \r\n\t\t\t\t\t\t\t\t\tруб</span>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonChange={this.onChangeEntering.bind(this)}/>\r\n\r\n\t\t\t\t\t\t<Form.Check type=\"checkbox\" id={`assemblyAndEntering`}\r\n\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<span>Сбор/Занос</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"price_grey\">\r\n\t\t\t\t\t\t\t\t\t\t<input className=\"form-control\" ref={this.assemblyAndEntering_price} type=\"number\"/> \r\n\t\t\t\t\t\t\t\t\tруб</span>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonChange={this.onChangeAssemblyAndEntering.bind(this)}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<hr />\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.orders.map(order => {\r\n\t\t\t\t\t\t\treturn <FLabel _key={`Заказ #${order.id + 1}`} value={`${order.allPrice} руб`} />\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<FLabel mark={true} _key=\"Итог\" value={`${this.state.allPrice} руб`} />\r\n\t\t\t\t\t<button className=\"btn btn-success button_send_order\" onClick={this.onSendThisOrder.bind(this)}>Отправить заказ</button>\r\n\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tprices: state.prices\r\n})\r\n\r\nexport default connect(mapStateToProps, null)(Order)","import React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { Form } from \"react-bootstrap\"\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport filterFactory, { textFilter, selectFilter } from 'react-bootstrap-table2-filter';\r\nimport cellEditFactory, { Type }  from 'react-bootstrap-table2-editor'\r\nimport paginationFactory from 'react-bootstrap-table2-paginator'\r\nimport ReactHTMLTableToExcel from 'react-html-table-to-excel'\r\n\r\nimport { getControlOrders, getProdOrders } from \"../api\"\r\nimport { saveDataFromTables, editCell } from \"../redux/actions/tables.action\";\r\n\r\nimport \"../styles/Tables.scss\"\r\n\r\n\r\nclass Tables extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tdata: [],\r\n\t\t\ttitle: \"Таблица для производства\",\r\n\t\t\ttableName: \"prod\",\r\n\t\t\texelTableData: [],\r\n\t\t\tyear: new Date().getFullYear()\r\n\t\t}\r\n\t\tfunction priceFormatterColor(cell, row) {\r\n\t\t\tswitch(row.status){\r\n\t\t\t\tcase \"В работе\":\r\n\t\t\t\t\treturn <span>\r\n\t\t\t\t\t\t\t<strong style={ { color: 'blue' } }>{ cell }</strong>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\tcase \"Отказ\":\r\n\t\t\t\t\treturn <span>\r\n\t\t\t\t\t\t\t<strong style={ { color: 'red' } }>{ cell }</strong>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\tcase \"Оплачен\":\r\n\t\t\t\t\treturn <span>\r\n\t\t\t\t\t\t\t<strong style={ { color: 'green' } }>{ cell }</strong>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn cell\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst checkNumber = (num) => {\r\n\t\t\tconsole.log(num)\r\n\t\t\tif(!Number(num) || isNaN(num))\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalid: false,\r\n\t\t\t\t\tmessage: \"Введите число\"\r\n\t\t\t\t}\r\n\t\t\telse if((\"\"+num).length > 7)\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalid: false,\r\n\t\t\t\t\tmessage: \"Вы ввели слишком большое число\"\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\treturn true\r\n\r\n\t\t}\r\n\r\n\t\tthis.prodColumns = [\r\n\t\t\t{\r\n\t\t\t\ttext: '№ недели',\r\n\t\t\t\tdataField: 'week',\r\n\t\t\t\tsort: true,\r\n\t\t\t\tfilter: textFilter(),\r\n\t\t\t\tvalidator: (newValue, row, column) => { return checkNumber(newValue) },\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '7%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: '№ заказа',\r\n\t\t\t\tdataField: 'id_fc',\r\n\t\t\t\t// editable: false, // If my client will want this\r\n\t\t\t\tsort: true,\r\n\t\t\t\tfilter: textFilter(),\r\n\t\t\t\tvalidator: (newValue, row, column) => { return checkNumber(newValue) },\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '8%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Название',\r\n\t\t\t\tdataField: 'name',\r\n\t\t\t\tfilter: textFilter(),\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '35%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Материал',\r\n\t\t\t\tdataField: 'material',\r\n\t\t\t\t// sort: true,\r\n\t\t\t\tfilter: selectFilter({ options: {\"Бук\": \"Бук\", \"Сосна\": \"Сосна\"} }),\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '10%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Цвет',\r\n\t\t\t\tdataField: 'color',\r\n\t\t\t\tfilter: textFilter(),\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '12%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Количество',\r\n\t\t\t\tdataField: 'count',\r\n\t\t\t\tvalidator: (newValue, row, column) => {checkNumber(newValue)},\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '9%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Статус',\r\n\t\t\t\tdataField: 'status',\r\n\t\t\t\tformatter: priceFormatterColor,\r\n\t\t\t\tfilter: selectFilter({ options: {\"В работе\": \"В работе\", \"Отказ\": \"Отказ\", \"Оплачен\": \"Оплачен\"} }),\r\n\t\t\t\teditor: {\r\n\t\t\t\t\ttype: Type.SELECT,\r\n\t\t\t\t\toptions: [{\r\n\t\t\t\t\t  value: 'В работе',\r\n\t\t\t\t\t  label: 'В работе'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t  value: 'Оплачен',\r\n\t\t\t\t\t  label: 'Оплачен'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t  value: 'Отказ',\r\n\t\t\t\t\t  label: 'Отказ'\r\n\t\t\t\t\t}]\r\n\t\t\t\t }\r\n\t\t\t},\r\n\t\t]\r\n\r\n\t\tthis.controlColumns = [\r\n\t\t\t{\r\n\t\t\t\ttext: '№ нед.',\r\n\t\t\t\tdataField: 'week',\r\n\t\t\t\tsort: true,\r\n\t\t\t\tfilter: textFilter(),\r\n\t\t\t\tvalidator: (newValue, row, column) => { return checkNumber(newValue) },\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '8%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: '№ зак.',\r\n\t\t\t\tdataField: 'id_fc',\r\n\t\t\t\tsort: true,\r\n\t\t\t\tfilter: textFilter(),\r\n\t\t\t\tvalidator: (newValue, row, column) => {checkNumber(newValue)},\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '8%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Сайт',\r\n\t\t\t\tdataField: 'site_name',\r\n\t\t\t\tfilter: selectFilter({ options: {\"Krovati-spalni.ru\": \"Krovati-spalni.ru\", \"мебельизсосны.рф\": \"мебельизсосны.рф\", \"Liman-murom.ru\": \"Liman-murom.ru\"} }),\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '15%'} },\r\n\t\t\t\teditor: {\r\n\t\t\t\t\ttype: Type.SELECT,\r\n\t\t\t\t\toptions: [{\r\n\t\t\t\t\t  value: 'Krovati-spalni.ru',\r\n\t\t\t\t\t  label: 'Krovati-spalni.ru'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t  value: 'мебельизсосны.рф',\r\n\t\t\t\t\t  label: 'мебельизсосны.рф'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t  value: 'Liman-murom.ru',\r\n\t\t\t\t\t  label: 'Liman-murom.ru'\r\n\t\t\t\t\t}]\r\n\t\t\t\t }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'ФИО',\r\n\t\t\t\tdataField: 'client_name',\r\n\t\t\t\tfilter: textFilter(),\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '15%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Телефон',\r\n\t\t\t\tfilter: textFilter(),\r\n\t\t\t\tdataField: 'client_phone',\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '15%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Адрес',\r\n\t\t\t\tfilter: textFilter(),\r\n\t\t\t\tdataField: 'client_address',\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '15%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Стоимость',\r\n\t\t\t\tdataField: 'price',\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '8%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Статус',\r\n\t\t\t\tdataField: 'status',\r\n\t\t\t\tformatter: priceFormatterColor,\r\n\t\t\t\teditor: {\r\n\t\t\t\t\ttype: Type.SELECT,\r\n\t\t\t\t\toptions: [{\r\n\t\t\t\t\t  value: 'В работе',\r\n\t\t\t\t\t  label: 'В работе'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t  value: 'Оплачен',\r\n\t\t\t\t\t  label: 'Оплачен'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t  value: 'Отказ',\r\n\t\t\t\t\t  label: 'Отказ'\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '8%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Отдали',\r\n\t\t\t\tdataField: 'paid',\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '6%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Долг',\r\n\t\t\t\tdataField: 'debt',\r\n\t\t\t\tvalidator: (newValue, row, column) => {checkNumber(newValue)},\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '6%'} }\r\n\t\t\t\t// formatter: (cell, row) => {return row.price - row.paid},\r\n\t\t\t\t// editable: false\r\n\t\t\t},\r\n\t\t]\r\n\t}\r\n\tonSelectForExelTable(row, isSelect, rowIndex){\r\n\t\tif(isSelect)\r\n\t\t\tthis.setState({ exelTableData: [...this.state.exelTableData, row] })\r\n\t\telse\r\n\t\t\tthis.setState({ exelTableData: [...this.state.exelTableData.filter(item => item.id !== row.id)] })\r\n\t}\r\n\r\n\tonSelectAllForExelTable(isSelect, rows){\r\n\t\tif(isSelect)\r\n\t\t\trows.map(row => this.setState({ exelTableData: [...rows] }))\r\n\t\telse\r\n\t\tthis.setState({ exelTableData: [] })\r\n\t}\r\n\r\n\tselectYearAndReloadData(e){\r\n\t\tthis.setState({ year: +e.target.value })\r\n\t\tthis.updateOrders(this.state.tableName, +e.target.value)\r\n\t}\r\n\r\n\tupdateOrders(tableName, year){\r\n\t\tswitch(tableName){\r\n\t\t\tcase \"prod\":\r\n\t\t\t\tgetProdOrders(year, (res) => {\r\n\t\t\t\t\tthis.setState({ data: res.data.reverse() })\r\n\t\t\t\t}, (err) => console.error(err))\r\n\t\t\t\tbreak\r\n\t\t\tcase \"control\":\r\n\t\t\t\tgetControlOrders(year, (res) => {\r\n\t\t\t\t\tthis.setState({ data: res.data.reverse(), title: \"Таблица для отслеживания заказов\" })\r\n\t\t\t\t}, (err) => console.error(err))\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tconsole.log(\"error\")\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tconst tableName = this.props.location.pathname === \"/tables/prod\"? \"prod\": \"control\"\r\n\t\tthis.updateOrders(tableName, this.state.year)\r\n\t\tthis.setState({ tableName, title: tableName === \"control\"? \"Таблица для отслеживания заказов\": this.state.title })\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"table-wrapper\">\r\n\t\t\t\t<h1 style={{textAlign: \"center\", fontFamily: \"RobotoBold\", fontSize: \"1.5em\", marginBottom: \"20px\"}}>{this.state.title}</h1>\r\n\r\n\t\t\t\t{/* Select for year */}\r\n\t\t\t\t<Form.Select className=\"header-selects header-selects-year\" aria-label=\"Выберете год\" onChange={e => this.selectYearAndReloadData(e)}>\r\n\t\t\t\t\t<option value={new Date().getFullYear()}>Год</option>\r\n\t\t\t\t\t<option selected value=\"2021\">2021 год</option>\r\n\t\t\t\t\t<option value=\"2022\">2022 год</option>\r\n\t\t\t\t</Form.Select>\r\n\r\n\t\t\t\t<BootstrapTable striped hover condensed bordered\r\n\t\t\t\t\tkeyField='id'\r\n\t\t\t\t\tdata={ this.state.data } \r\n\t\t\t\t\tcolumns={ this.props.location.pathname === \"/tables/prod\"? this.prodColumns: this.controlColumns } \r\n\t\t\t\t\tcellEdit={\r\n\t\t\t\t\t\tcellEditFactory({\r\n\t\t\t\t\t\t\tmode: 'dbclick',\r\n\t\t\t\t\t\t\tafterSaveCell: (oldValue, newValue, row, column) => { this.props.editCellFromRedux(row.id, column.dataField, newValue) }\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfilter={ filterFactory({}) }\r\n\t\t\t\t\tfilterPosition=\"top\"\r\n\t\t\t\t\tselectRow={{\r\n\t\t\t\t\t\tmode: 'checkbox',\r\n\t\t\t\t\t\tclickToSelect: true,\r\n\t\t\t\t\t\tclickToEdit: true,  // Click to edit cell also\r\n\t\t\t\t\t\tonSelect: (row, isSelect, rowIndex, e) => { this.onSelectForExelTable(row, isSelect, rowIndex) },\r\n\t\t\t\t\t\tonSelectAll: (isSelect, rows) => { this.onSelectAllForExelTable(isSelect, rows) }\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tpagination={ paginationFactory() } // Footer for pages and view count item in pages\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{/* for normal export to exel file */}\r\n\t\t\t\t\t<table style={{display: \"none\"}} id=\"table-to-xls\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.tableName == \"prod\" && this.prodColumns.map(thData => {\r\n\t\t\t\t\t\t\t\t\t\treturn <th>{thData.text}</th>\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.tableName == \"control\" && this.controlColumns.map(thData => {\r\n\t\t\t\t\t\t\t\t\t\treturn <th>{thData.text}</th>\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.exelTableData.map(row => {\r\n\t\t\t\t\t\t\t\t\treturn <tr key={row.id}>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.state.tableName == \"prod\" && this.prodColumns.map(col => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <th>{row[col.dataField]}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.state.tableName == \"control\" && this.controlColumns.map(col => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <th>{row[col.dataField]}</th>\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\r\n\t\t\t\t\t{/* ---------------------- Control Panel -------------------- */}\r\n\t\t\t\t\t<p className=\"footer-table\">\r\n\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={e => this.props.location.pathname === \"/tables/prod\"? this.props.save(\"/save_data/prod\", \"POST\"): this.props.save(\"/save_data/control\", \"POST\")}>Сохранить</button>\r\n\t\t\t\t\t\t<ReactHTMLTableToExcel\r\n\t\t\t\t\t\t\tid=\"test-table-xls-button\"\r\n\t\t\t\t\t\t\tclassName={`btn btn-primary ${this.state.exelTableData.length === 0? \"disabled\": \"\"} download-table-xls-button`}\r\n\t\t\t\t\t\t\ttable=\"table-to-xls\"\r\n\t\t\t\t\t\t\tfilename={\"table_\" + this.state.tableName}\r\n\t\t\t\t\t\t\tsheet=\"tablexls\"\r\n\t\t\t\t\t\t\tbuttonText=\"Сохранить в XLS\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\teditCellFromRedux: (row, col, value) => dispatch(editCell(row, col, value)),\r\n\tsave: (method, url) => dispatch(saveDataFromTables(method, url))\r\n })\r\n \r\nexport default connect(null, mapDispatchToProps)(Tables)","import { TABLES } from \"../types\"\r\n\r\nexport const editCell = (id, col, value) => ({\r\n\ttype: TABLES.EDIT_CELL,\r\n\tpayload: {\r\n\t\tid,\r\n\t\tcol,\r\n\t\tvalue\r\n\t}\r\n})\r\n\r\nexport const saveDataFromTables = (url, method) => ({\r\n\ttype: TABLES.SAVE_DATA,\r\n\tpayload: {url, method}\r\n})","import React from \"react\"\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n// import filterFactory, { textFilter, selectFilter } from 'react-bootstrap-table2-filter';\r\nimport cellEditFactory, { Type }  from 'react-bootstrap-table2-editor'\r\nimport paginationFactory from 'react-bootstrap-table2-paginator'\r\n\r\nimport { getUsers } from \"../api\"\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { addChange, save } from \"../redux/actions/users.action\"\r\n\r\n\r\n\r\nclass Users extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.columns = [\r\n\t\t\t{\r\n\t\t\t\ttext: 'ID',\r\n\t\t\t\tdataField: 'id',\r\n\t\t\t\teditable: false\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'ФИО',\r\n\t\t\t\tdataField: 'name'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Логин',\r\n\t\t\t\tdataField: 'login',\r\n\t\t\t\teditable: false\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Роль',\r\n\t\t\t\tdataField: 'role',\r\n\t\t\t\teditor: {\r\n\t\t\t\t\ttype: Type.SELECT,\r\n\t\t\t\t\toptions: [{\r\n\t\t\t\t\t  value: \"0\",\r\n\t\t\t\t\t  label: 'Администартор'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t  value: \"1\",\r\n\t\t\t\t\t  label: 'Модератор'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t  value: '2',\r\n\t\t\t\t\t  label: 'Редактор'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t  value: '3',\r\n\t\t\t\t\t  label: 'Пользователь'\r\n\t\t\t\t\t}]\r\n\t\t\t\t }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Активен',\r\n\t\t\t\tdataField: 'active',\r\n\t\t\t\teditor: {\r\n\t\t\t\t\ttype: Type.SELECT,\r\n\t\t\t\t\toptions: [{\r\n\t\t\t\t\t  value: '0',\r\n\t\t\t\t\t  label: 'Не активен'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t  value: '1',\r\n\t\t\t\t\t  label: 'Активен'\r\n\t\t\t\t\t}]\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t]\r\n\r\n\t\tthis.state = {\r\n\t\t\tdata: [],\r\n\t\t\ttitle: \"Таблица для производства\"\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\tcomponentDidMount(){\r\n\t\tgetUsers((res) => {\r\n\t\t\tthis.setState({ data: res.data })\r\n\t\t}, (err) => console.error(err))\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<h1 style={{textAlign: \"center\", fontFamily: \"RobotoBold\", fontSize: \"1.5em\"}}>Управление пользователями</h1>\r\n\t\t\t\t<BootstrapTable striped hover condensed bordered={ true }\r\n\t\t\t\t\tid=\"table_users\"\r\n\t\t\t\t\tkeyField='id' \r\n\t\t\t\t\tdata={ this.state.data } \r\n\t\t\t\t\tcolumns={ this.columns } \r\n\t\t\t\t\tcellEdit={\r\n\t\t\t\t\t\tcellEditFactory({\r\n\t\t\t\t\t\t\tmode: 'click',\r\n\t\t\t\t\t\t\tafterSaveCell: (oldValue, newValue, row, column) => { this.props.addChange(row.id, column.dataField, newValue) }\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpagination={ paginationFactory() } // Footer for pages and view count item in pages\r\n\t\t\t\t/>\r\n\t\t\t\t<p className=\"footer-table\">\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\">Новая строка</button>\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={e => this.props.saveChanges()}>Сохранить</button>\r\n\t\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tauth: state.app.authorization,\r\n\tuser: state.user\r\n})\r\n\r\nconst mapDispatchToProps = f => ({\r\n\taddChange: (id, col, value) => f(addChange(id, col, value)),\r\n\tsaveChanges: () => f(save())\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Users)","import React from \"react\"\r\n\r\nclass Home extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<h1>Главная</h1>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Home","import React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { Form } from \"react-bootstrap\"\r\nimport { NotificationManager } from 'react-notifications'\r\nimport BootstrapTable from 'react-bootstrap-table-next'\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor'\r\nimport FileDownload from \"js-file-download\"\r\n\r\nimport { addInvoiceChange, saveInvoiceChanges } from \"../redux/actions/app.action\"\r\nimport { getInvoiceOrders, getInvoiceDOCX } from \"../api\"\r\n\r\nclass Invoice extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tprods: [],\r\n\t\t\tselectedRows: []\r\n\t\t}\r\n\r\n\t\tthis.columns = [\r\n\t\t\t{\r\n\t\t\t\ttext: \"№ п/п\",\r\n\t\t\t\tdataField: \"index\",\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '5%'} },\r\n\t\t\t\teditable: false\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: \"Наименование товара (описание выполненных работ, оказанных услуг)\",\r\n\t\t\t\tdataField: \"name\",\r\n\t\t\t\theaderStyle: (colum, colIndex) => { return { width: '30%'} }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: \"Материал\",\r\n\t\t\t\tdataField: \"material\",\r\n\t\t\t\teditor: {\r\n\t\t\t\t\ttype: Type.SELECT,\r\n\t\t\t\t\toptions: [{\r\n\t\t\t\t\t  value: 'Сосна',\r\n\t\t\t\t\t  label: 'Сосна'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t  value: 'Береза',\r\n\t\t\t\t\t  label: 'Береза'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t  value: 'Бук',\r\n\t\t\t\t\t  label: 'Бук'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t  value: 'Дуб',\r\n\t\t\t\t\t  label: 'Дуб'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t  value: 'Ясень',\r\n\t\t\t\t\t  label: 'Ясень'\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: \"Цвет\",\r\n\t\t\t\tdataField: \"color\",\r\n\t\t\t\teditor: {\r\n\t\t\t\t\ttype: Type.SELECT,\r\n\t\t\t\t\toptions: [{\r\n\t\t\t\t\t  value: 'лак',\r\n\t\t\t\t\t  label: 'лак'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t  value: 'Венге-1',\r\n\t\t\t\t\t  label: 'Венге-1'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t  value: 'Венге-2',\r\n\t\t\t\t\t  label: 'Венге-2'\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: \"Ед. изм.\",\r\n\t\t\t\tdataField: \"units\",\r\n\t\t\t\teditable: false\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: \"Кол-во\",\r\n\t\t\t\tdataField: \"count\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: \"Цена (тариф) руб.коп.\",\r\n\t\t\t\tdataField: \"price\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: \"Стоимость товаров (работ, услуг) руб.коп.\",\r\n\t\t\t\tdataField: \"allPrice\"\r\n\t\t\t}\r\n\t\t]\r\n\r\n\t\tthis.invoiceRef = React.createRef()\r\n\t}\r\n\r\n\tprintInvoice(){\r\n\t\tlet mainData = this.props.invoiceData\r\n\t\tgetInvoiceDOCX([this.props.invoiceData.id], res => {\r\n\t\t\tFileDownload(res, `заказ_${mainData.id_fc}.docx`)\r\n\t\t}, err => NotificationManager.warning(\"Не удалось скачать документ\", \"Ошибка\", 3000))\r\n\t}\r\n\r\n\tnewRow(){\r\n\t\tthis.setState({ prods: [...this.state.prods, {\r\n\t\t\tallPrice: 0,\r\n\t\t\tassemblyAndEntering: false,\r\n\t\t\tcolor: \"\",\r\n\t\t\tcount: 0,\r\n\t\t\tid: this.state.prods[this.state.prods.length - 1].id + 1,\r\n\t\t\tid_fc: this.props.invoiceData.id_fc,\r\n\t\t\tid_iv: this.props.invoiceData.id,\r\n\t\t\tindex: this.state.prods[this.state.prods.length - 1].index + 1,\r\n\t\t\tmaterial: \"\",\r\n\t\t\tname: \"\",\r\n\t\t\tprice: 0,\r\n\t\t\tunits: \"шт.\",\r\n\t\t\tweek: this.props.invoiceData.week\r\n\t\t}] })\r\n\r\n\t\tthis.props.addInvoiceChange({\r\n\t\t\ttype: \"NEW_ROW\",\r\n\t\t\tpayload: {\r\n\t\t\t\tid: this.state.prods[this.state.prods.length - 1].id + 1\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tdeleteRow(){\r\n\t\t// List of id for selected rows\r\n\t\tconst ids = this.state.selectedRows.reduce((prev, curr) => { return [...prev, curr.id] }, [])\r\n\r\n\t\t// delete row in component, including prods which id don't selected\r\n\t\tthis.setState({ prods: this.state.prods.filter(prod => !ids.includes(prod.id)) })\r\n\r\n\t\t// make action -> DELETE_ROW\r\n\t\tthis.props.addInvoiceChange({ type: \"DELETE_ROW\", payload: ids })\r\n\t}\r\n\r\n\t// send changes and save them\r\n\tsaveInvoice(){\r\n\t\tthis.props.saveInvoiceChanges(this.props.invoiceData)\r\n\t}\r\n\t\r\n\tcomponentDidMount(){\r\n\t\tgetInvoiceOrders(res => {\r\n\t\t\tlet index = 1\r\n\t\t\tthis.setState({ \r\n\t\t\t\tprods: res.data\r\n\t\t\t\t\t.filter(order => order.id_iv === this.props.invoiceData.id)\r\n\t\t\t\t\t.reduce((prev, curr) => { return [...prev, { ...curr, units: \"шт.\", index: index++, assemblyAndEntering: !!curr.assembly && !!curr.entering}] }, [])\r\n\t\t\t})\r\n\t\t}, err => NotificationManager.warning(\"Не удалось загрузить данные\", \"Ошибка\", 3000))\r\n\t}\r\n\r\n\tonSelectForExelTable(row, isSelect, rowIndex){\r\n\t\tisSelect?\r\n\t\t\tthis.setState({ selectedRows: [...this.state.selectedRows, row] }):\r\n\t\t\tthis.setState({ selectedRows: [...this.state.selectedRows.filter(item => item.id !== row.id)] })\r\n\t}\r\n\r\n\tonSelectAllForExelTable(isSelect, rows){\r\n\t\tisSelect?\r\n\t\t\tthis.setState({ selectedRows: [...rows] }):\r\n\t\t\tthis.setState({ selectedRows: [] })\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst switchImage = (siteName) => {\r\n\t\t\tswitch(siteName){\r\n\t\t\t\tcase \"Krovati-spalni.ru\":\r\n\t\t\t\t\treturn <img src=\"http://localhost:8080/images/logo_krovati_var_22.png\" alt=\"logo\" />\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase \"мебельизсосны.рф\":\r\n\t\t\t\t\treturn <img src=\"http://localhost:8080/images/ms.png\" alt=\"logo\" />\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase \"Liman-murom.ru\":\r\n\t\t\t\t\treturn <img src=\"http://localhost:8080/images/lim.jpg\" alt=\"logo\" />\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn <img title=\"no image\" />\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst selectOption = (defaultValue, type) => {\r\n\t\t\treturn <Form.Select className=\"\" aria-label=\"Выберете год\" onChange={e => this.props.addInvoiceChange({ type, payload: e.target.value })}>\r\n\t\t\t\t<option value=\"\">Выберете</option>\r\n\t\t\t\t<option selected={!!defaultValue} value=\"Да\">Да</option>\r\n\t\t\t\t<option selected={!defaultValue} value=\"Нет\">Нет</option>\r\n\t\t\t</Form.Select>\r\n\t\t}\r\n\r\n\t\tconst inputPrice = (defaultValue, type) => {\r\n\t\t\tconst changeInput = (e) => {\r\n\t\t\t\tif(e.key === \"Enter\") this.props.addInvoiceChange({ type, payload: e.target.value })\r\n\t\t\t}\r\n\t\t\treturn <input type=\"text\" defaultValue={defaultValue} onKeyPress={e => changeInput(e)}/>\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<div className=\"Invoice-wrapper\">\r\n\t\t\t\t{ !!this.props.invoiceData.deliver_back && <span className=\"deliver-back-mark\">Довоз</span> }\r\n\t\t\t\t<div className=\"Invoice\" ref={this.invoiceRef}>\r\n\t\t\t\t\t{/* <Component /> */}\r\n\t\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t\t<div className=\"logo\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tswitchImage(this.props.invoiceData.site_name)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"info_block\">\r\n\t\t\t\t\t\t\t<div className=\"client_info client_name\"><span>ФИО</span>: {this.props.invoiceData.client_name}</div>\r\n\t\t\t\t\t\t\t<div className=\"client_info client_phone\"><span>Телефон</span>: {this.props.invoiceData.client_phone}</div>\r\n\t\t\t\t\t\t\t<div className=\"client_info client_address\"><span>Адрес</span>: {this.props.invoiceData.client_address}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"sub-header\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<span>Заказ № <span className=\"number_order\">{this.props.invoiceData.id_fc}</span></span>\r\n\t\t\t\t\t\t\t<span>Дата доставки <span className=\"date_order\">{this.props.invoiceData.date_order}</span></span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"prods\">\r\n\t\t\t\t\t\t<BootstrapTable striped hover condensed bordered\r\n\t\t\t\t\t\t\tkeyField=\"id\"\r\n\t\t\t\t\t\t\tdata={ this.state.prods } \r\n\t\t\t\t\t\t\tcolumns={ this.columns } \r\n\t\t\t\t\t\t\tcellEdit={\r\n\t\t\t\t\t\t\t\tcellEditFactory({\r\n\t\t\t\t\t\t\t\t\tmode: 'dbclick',\r\n\t\t\t\t\t\t\t\t\tafterSaveCell: (oldValue, newValue, row, column) => { this.props.addInvoiceChange({ type: \"CHANGE\", payload: { col: column.dataField, value: newValue, id: row.id } }) }\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tselectRow={{\r\n\t\t\t\t\t\t\t\tmode: 'checkbox',\r\n\t\t\t\t\t\t\t\tclickToSelect: true,\r\n\t\t\t\t\t\t\t\tclickToEdit: true,  // Click to edit cell also\r\n\t\t\t\t\t\t\t\tonSelect: (row, isSelect, rowIndex, e) => { this.onSelectForExelTable(row, isSelect, rowIndex) },\r\n\t\t\t\t\t\t\t\tonSelectAll: (isSelect, rows) => { this.onSelectAllForExelTable(isSelect, rows) }\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"table-bottom-panel\">\r\n\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.newRow.bind(this)}>Новая строка</button>\r\n\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.deleteRow.bind(this)}>Удалить строку</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<p className=\"gost\">\r\n\t\t\t\t\t\tДанная мебель соответствует ГОСТу 16371-93 и госту 19917-93, имеет гигиенический\r\n\t\t\t\t\t\tсертификат, сертификат соответствия, признана годной к эксплуатации.\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<div className=\"assembly-and-entering\">\r\n\t\t\t\t\t\t<span className=\"name-field\">Доставка <span className=\"field field_data field-delivery\">{selectOption(this.props.invoiceData.delivery, \"CHANGE/delivery\")} {inputPrice(this.props.invoiceData.delivery_price, \"CHANGE/delivery_price\")}</span></span>\r\n\t\t\t\t\t\t<span className=\"name-field\">Сбор <span className=\"field field_data field-assembly\">{selectOption(this.props.invoiceData.assembly, \"CHANGE/assembly\")} {inputPrice(this.props.invoiceData.assembly_price, \"CHANGE/assembly_price\")}</span></span>\r\n\t\t\t\t\t\t<span className=\"name-field\">Занос <span className=\"field field_data field-entering\">{selectOption(this.props.invoiceData.entering, \"CHANGE/entering\")} {inputPrice(this.props.invoiceData.entering_price, \"CHANGE/entering_price\")}</span></span>\r\n\t\t\t\t\t\t<span className=\"name-field\">Сбор/Занос <span className=\"field field_data field-assembly-entering\">{selectOption(this.props.invoiceData.assemblyAndEntering, \"CHANGE/assemblyAndEntering\")} {inputPrice(this.props.invoiceData.assemblyAndEntering_price, \"CHANGE/assemblyAndEntering_price\")}</span></span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"write-for-client\">\r\n\t\t\t\t\t\t<p>Заказчик:</p>\r\n\t\t\t\t\t\t<p className=\"write-for-client-data\">\r\n\t\t\t\t\t\t\t<span className=\"info write-name-client\">ФИО<span className=\"field\"></span></span>\r\n\t\t\t\t\t\t\t<span className=\"info write-phone-client\">Тел.<span className=\"field\"></span></span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<p className=\"signature\">Подпись <span className=\"field\"></span></p>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"panel-bottom\">\r\n\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.saveInvoice.bind(this)}>Соханить</button>\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.printInvoice.bind(this)}>Печать</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = f => ({\r\n\taddInvoiceChange: (action) => f(addInvoiceChange(action)),\r\n\tsaveInvoiceChanges: (invoiceData) => f(saveInvoiceChanges(invoiceData)),\r\n}) \r\n\r\nexport default connect(null, mapDispatchToProps)(Invoice)","import { getInvoices, postNewInvoiceDeliverBack, getInvoiceDOCX } from \"../api\"\r\nimport React from \"react\"\r\nimport { Form, FloatingLabel, ButtonToolbar, ButtonGroup, Button } from \"react-bootstrap\"\r\nimport { FaChevronLeft, FaChevronRight } from \"react-icons/fa\"\r\nimport { connect } from \"react-redux\"\r\nimport FileDownload from \"js-file-download\"\r\nimport { NotificationManager } from 'react-notifications';\r\n\r\n\r\nimport \"../styles/Invoices.scss\"\r\nimport Invoice from \"./Invoice\"\r\n\r\n\r\nclass InvoicesList extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tinvoices: [],\r\n\t\t\tactiveInvoice: false,\r\n\t\t\tactiveRow: {},\r\n\t\t\tselectedYear: new Date().getFullYear(),\r\n\t\t\tselectedWeek: -1,\r\n\r\n\t\t\tdeliverVisible: false,\r\n\t\t\tselectInvoices: [],\r\n\r\n\t\t\t// panigation\r\n\t\t\tcountItemsInPage: 10,\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tmaxCountPages: 5\r\n\t\t}\r\n\r\n\t\tthis.deliverNumberOrder = React.createRef()\r\n\t}\r\n\r\n\tupdateListInvoices(){\r\n\t\tgetInvoices(this.state.selectedYear, data => {\r\n\t\t\tthis.setState({ invoices: data.data.reverse() })\r\n\t\t}, err => console.log(err))\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.updateListInvoices()\r\n\t} \r\n\r\n\tonEventHandlerForLabel(e, row){\r\n\t\tswitch(e.detail){\r\n\t\t\t// One click\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tlet indexSelected = -1\r\n\t\t\t\tthis.state.selectInvoices.map((sel, index) => {\r\n\t\t\t\t\tif(sel.id === row.id) {\r\n\t\t\t\t\t\tindexSelected = index\r\n\t\t\t\t\t\treturn sel\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif (indexSelected !== -1) {\r\n\t\t\t\t\tlet arr = this.state.selectInvoices\r\n\t\t\t\t\tarr.splice(indexSelected, 1)\r\n\t\t\t\t\tthis.setState({ selectInvoices: arr })\r\n\t\t\t\t}\r\n\t\t\t\telse this.setState({ selectInvoices: [...this.state.selectInvoices, row] })\r\n\t\t\t\t\r\n\t\t\t\tbreak\r\n\t\t\t// Double click\r\n\t\t\tcase 2:\r\n\t\t\t\te.preventDefault()\r\n\t\t\t\tthis.setState({ activeInvoice: true, activeRow: row, selectInvoices: [] })\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\tselectWeekAndReloadData(e){\r\n\t\tthis.setState({ selectedWeek: +e.target.value })\r\n\t}\r\n\r\n\tselectYearAndReloadData(e){\r\n\t\tgetInvoices(+e.target.value, data => {\r\n\t\t\tthis.setState({ invoices: data.data })\r\n\t\t}, err => console.log(err))\r\n\t}\r\n\tcreateDeliverBack(e){\r\n\t\tif(this.state.invoices.filter(invoice => invoice.id_fc === +this.deliverNumberOrder.current.value).length !== 0){\r\n\t\t\tpostNewInvoiceDeliverBack(+this.deliverNumberOrder.current.value, (res) => {\r\n\t\t\t\tif(res.error) NotificationManager.warning(\"Не удалось создать новый довоз\", \"Ошибка\", 3000)\r\n\t\t\t\telse this.setState({ \r\n\t\t\t\t\tinvoices: [\r\n\t\t\t\t\t\t{ ...this.state.invoices\r\n\t\t\t\t\t\t\t.filter(invoice => invoice.id_fc === +this.deliverNumberOrder.current.value)[0],\r\n\t\t\t\t\t\t\tdeliver_back: 1,\r\n\t\t\t\t\t\t\tid: this.state.invoices[this.state.invoices.length - 1].id + 1\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t...this.state.invoices, \r\n\t\t\t\t\t],\r\n\t\t\t\t\tdeliverVisible: false\r\n\t\t\t\t})\r\n\t\t\t}, err => NotificationManager.warning(\"Не удалось создать новый довоз\", \"Ошибка\", 3000))\r\n\t\t}\r\n\t\telse{\r\n\t\t\tNotificationManager.warning(\"Такого заказа не существует\", \"Ошибка\", 3000)\r\n\t\t}\r\n\t}\r\n\tprintSelected(e){\r\n\t\tgetInvoiceDOCX(this.state.selectInvoices.reduce((prev, curr) => { return [...prev, curr.id] }, []), res => {\r\n\t\t\tFileDownload(res, `заказы.docx`)\r\n\t\t}, err => console.log(err))\r\n\t}\r\n\t// Panigation\r\n\trange(size, startAt = 0) {\r\n\t\treturn [...Array(size).keys()].map(i => i + startAt);\r\n\t}\r\n\ttoForward(e){\r\n\t\tthis.state.currentPage < Math.ceil(this.state.invoices.length / this.state.countItemsInPage) && \r\n\t\t\tthis.setState({ currentPage: this.state.currentPage + 1 })\r\n\t}\r\n\ttoBackward(e){ this.state.currentPage > 1 && this.setState({ currentPage: this.state.currentPage - 1 }) }\r\n\t\r\n\tpickPage(page){\r\n\t\tthis.setState({ currentPage: page })\r\n\t}\r\n\r\n\trender(){\r\n\t\t// for selects\r\n\t\tconst weeks = this.state.invoices.reduce((prev, curr) => { return (!(prev.includes(curr.week))? [...prev, curr.week]: prev)  }, []).sort()\r\n\t\t\r\n\t\t// ----- for arrays render including panigation ------\r\n\t\t\t\r\n\r\n\t\tconst invoices = this.state.selectedWeek === -1?\r\n\t\t\tthis.state.invoices.filter((_, index) => \r\n\t\t\t\tindex >= (this.state.currentPage - 1) * this.state.countItemsInPage && \r\n\t\t\t\tindex < (this.state.currentPage) * this.state.countItemsInPage):\r\n\t\t\tthis.state.invoices.filter(invoice => invoice.week === this.state.selectedWeek).filter((_, index) => \r\n\t\t\t\tindex >= (this.state.currentPage - 1) * this.state.countItemsInPage && \r\n\t\t\t\tindex < (this.state.currentPage) * this.state.countItemsInPage\r\n\t\t\t)\r\n\r\n\t\t// panigation\r\n\t\tconst countPages = this.state.selectedWeek === -1?\r\n\t\t\tMath.ceil(this.state.invoices.length / this.state.countItemsInPage):\r\n\t\t\tMath.ceil(this.state.invoices.filter(invoice => invoice.week === this.state.selectedWeek).length / this.state.countItemsInPage)\r\n\t\treturn(\r\n\t\t\t<div className=\"invoices_section\">\r\n\t\t\t\t{\r\n\t\t\t\t\t// arrow button to back list\r\n\t\t\t\t\tthis.state.activeInvoice && <span onClick={e => {this.setState({ activeInvoice: false, activeRow: {} }); this.updateListInvoices()}}><FaChevronLeft /></span>\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t<h1 className=\"header\">Заказы {this.state.activeInvoice? `: ${this.state.activeRow.id_fc}`: \"\"}</h1>\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\t!this.state.activeInvoice && <div className=\"invoices_list_wrapper\">\r\n\r\n\t\t\t\t\t\t<div className=\"panel\">\r\n\t\t\t\t\t\t\t{/* Number of week for order */}\r\n\t\t\t\t\t\t\t<Form.Select className=\"header-selects header-selects-week\" aria-label=\"Неделя\" onChange={e => this.selectWeekAndReloadData(e)}>\r\n\t\t\t\t\t\t\t\t<option value=\"-1\">№ недели</option>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tweeks.map(week => {\r\n\t\t\t\t\t\t\t\t\t\treturn <option key={week} value={week}>{week}</option>\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Form.Select>\r\n\t\t\t\t\t\t\t{/* Number of year for created date of order */}\r\n\t\t\t\t\t\t\t<Form.Select className=\"header-selects header-selects-year\" aria-label=\"Выберете год\" onChange={e => this.selectYearAndReloadData(e)}>\r\n\t\t\t\t\t\t\t\t<option value=\"2021\">Год</option>\r\n\t\t\t\t\t\t\t\t<option selected value=\"2021\">2021 год</option>\r\n\t\t\t\t\t\t\t\t<option value=\"2022\">2022 год</option>\r\n\t\t\t\t\t\t\t</Form.Select>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"label_thead\">\r\n\t\t\t\t\t\t\t<span className=\"number_order\">№ Недели</span>\r\n\t\t\t\t\t\t\t<span className=\"number_order\">№ заказа</span>\r\n\t\t\t\t\t\t\t<span className=\"client_name\">ФИО</span>\r\n\t\t\t\t\t\t\t<span className=\"client_phone\">Телефон</span>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<ul className=\"invoices_list\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tinvoices.map((invoice, index) => {\r\n\t\t\t\t\t\t\t\t\treturn <li onClick={e => this.onEventHandlerForLabel(e, invoice)} key={`li_${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Check type=\"checkbox\" id={`invoice_${index}`} className={`choice choice_${index}`} \r\n\t\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"field number_order\">{invoice.week}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"field number_order\">{invoice.id_fc}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"field client_name\">{invoice.client_name}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"field client_phone\">{invoice.client_phone}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!!invoice.deliver_back? <span className=\"deliver_back\">Довоз</span>: <></>} \r\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// A new invoice -> deliver back\r\n\t\t\t\t\t\t\tthis.state.deliverVisible && <div className=\"deliver\">\r\n\t\t\t\t\t\t\t\t<span>Создать новый довоз: </span>\r\n\t\t\t\t\t\t\t\t<FloatingLabel controlId=\"floatingInput\" label=\"Номер заказа\" className=\"mb-4\">\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"3400\" autoFocus ref={this.deliverNumberOrder}/>\r\n\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t<div className=\"button-wrapper\">\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary add-deliver\" onClick={this.createDeliverBack.bind(this)}>Создать</button>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={e => this.setState({ deliverVisible: false })}>Закрыть</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t<div className=\"panigation\">\r\n\t\t\t\t\t\t\t<Form.Select onChange={e => this.setState({ countItemsInPage: +e.target.value })} className=\"header-selects header-selects-year\" aria-label=\"Выберете айтомов\">\r\n\t\t\t\t\t\t\t\t<option value=\"10\" selected>Кол-во: 10</option>\r\n\t\t\t\t\t\t\t\t<option value=\"20\">Кол-во: 20</option>\r\n\t\t\t\t\t\t\t\t<option value=\"30\">Кол-во: 30</option>\r\n\t\t\t\t\t\t\t\t<option value=\"40\">Кол-во: 40</option>\r\n\t\t\t\t\t\t\t\t<option value=\"50\">Кол-во: 50</option>\r\n\t\t\t\t\t\t\t</Form.Select>\r\n\r\n\t\t\t\t\t\t\t<ButtonToolbar aria-label=\"Toolbar with button groups\" className=\"panigation-pages\">\r\n\t\t\t\t\t\t\t\t<ButtonGroup className=\"me-2\" aria-label=\"First group\">\r\n\t\t\t\t\t\t\t\t\t<Button onClick={this.toBackward.bind(this)}><FaChevronLeft /></Button>\r\n\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t<ButtonGroup className=\"me-2\" aria-label=\"Second group\">\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tthis.range(countPages).map((_, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Button onClick={e => this.pickPage(index + 1)} active={this.state.currentPage === index + 1}>{index + 1}</Button>\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t<ButtonGroup aria-label=\"Third group\">\r\n\t\t\t\t\t\t\t\t\t<Button onClick={this.toForward.bind(this)}><FaChevronRight /></Button>\r\n\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t</ButtonToolbar>\r\n\t\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t\t\t<p className=\"button_wrapper\">\r\n\t\t\t\t\t\t\t<button onClick={e => this.setState({ deliverVisible: true })} className=\"btn btn-success\" style={{marginRight: \"10px\"}}>Сделать довоз</button>\r\n\t\t\t\t\t\t\t<button onClick={this.printSelected.bind(this)} className={`btn btn-primary ${this.state.selectInvoices.length === 0? \"disabled\": \"\"}`}>Печать</button>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.state.activeInvoice && <Invoice invoiceData={this.state.activeRow} />\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tauth: state.app.authorization,\r\n\tuser: state.user\r\n})\r\n\r\nexport default connect(mapStateToProps, null)(InvoicesList)","import { ERole } from \"./redux/types\"\r\n\r\n// Components\r\nimport Login from \"./components/Login\"\r\nimport Registration from \"./components/Registration\"\r\nimport Order from \"./components/Order\"\r\nimport Tables from \"./components/Tables\"\r\nimport Users from \"./components/ManageUsers\"\r\nimport Home from \"./components/Home\"\r\nimport InvoicesList from \"./components/InvoicesList\"\r\n\r\nimport {\r\n\tFaPlus,\r\n\tFaList,\r\n\tFaTable,\r\n\tFaUser,\r\n\tFaSignInAlt\r\n} from \"react-icons/fa\"\r\n\r\nexport const routes = [\r\n\t{\r\n\t\tpath: \"/logout\",\r\n\t\tname: \"Выйти\",\r\n\t\trole_user: ERole.USER,\r\n\t\tisNavBar: false,\r\n\t\tisPrivate: true,\r\n\t\tcomponent: Login\r\n\t},\r\n\t{\r\n\t\tpath: \"/login\",\r\n\t\tname: \"Авторизация\",\r\n\t\trole_user: ERole.NON,\r\n\t\tisNavBar: false,\r\n\t\tisPrivate: false,\r\n\t\ticon: <FaSignInAlt />,\r\n\t\tcomponent: Login\r\n\t},\r\n\t{\r\n\t\tpath: \"/registration\",\r\n\t\tname: \"Регистрация\",\r\n\t\trole_user: ERole.NON,\r\n\t\tisNavBar: false,\r\n\t\tisPrivate: false,\r\n\t\tcomponent: Registration\r\n\t},\r\n\t{\r\n\t\tpath: \"/new_order\",\r\n\t\tname: \"Новый заказ\",\r\n\t\trole_user: ERole.USER,\r\n\t\tisNavBar: true,\r\n\t\tisPrivate: true,\r\n\t\ticon: <FaPlus />,\r\n\t\tcomponent: Order\r\n\t},\r\n\t{\r\n\t\tpath: \"/invoices\",\r\n\t\tname: \"Заказы\",\r\n\t\trole_user: ERole.USER,\r\n\t\tisNavBar: true,\r\n\t\tisPrivate: true,\r\n\t\ticon: <FaList />,\r\n\t\tcomponent: InvoicesList\r\n\t},\r\n\t{\r\n\t\tpath: \"/tables/prod\",\r\n\t\tname: \"Таблица для производства\",\r\n\t\trole_user: ERole.EDITOR,\r\n\t\tisNavBar: true,\r\n\t\tisPrivate: true,\r\n\t\ticon: <FaTable/>,\r\n\t\tcomponent: Tables\r\n\t},\r\n\t{\r\n\t\tpath: \"/tables/control\",\r\n\t\tname: \"Таблица для отслеживания\",\r\n\t\trole_user: ERole.EDITOR,\r\n\t\tisNavBar: true,\r\n\t\tisPrivate: true,\r\n\t\ticon: <FaTable/>,\r\n\t\tcomponent: Tables\r\n\t},\r\n\t{\r\n\t\tpath: \"/users\",\r\n\t\tname: \"Управление пользователями\",\r\n\t\trole_user: ERole.ADMIN,\r\n\t\tisNavBar: true,\r\n\t\tisPrivate: true,\r\n\t\ticon: <FaUser/>,\r\n\t\tcomponent: Users\r\n\t},\r\n\t{\r\n\t\tpath: \"/\",\r\n\t\tname: \"Главная\",\r\n\t\trole_user: ERole.USER,\r\n\t\tisNavBar: false,\r\n\t\tisPrivate: false,\r\n\t\tcomponent: Home\r\n\t},\r\n]","import React from \"react\"\nimport { NotificationContainer } from \"react-notifications\"\nimport {\n  HashRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\"\n\n// Components\nimport SideBar from \"./components/SideBar\"\nimport Header from \"./components/Header\"\nimport Authorization from \"./hoc/authorization\"\n\n// redux and API\nimport { auth } from \"./api\"\nimport { addUser } from \"./redux/actions/users.action\"\nimport { authUser } from \"./redux/actions/app.action\"\nimport { routes } from \"./routes\"\nimport { connect } from \"react-redux\"\n\n// styles\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-notifications/lib/notifications.css';\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\nimport './styles/App.scss';\n\n\n\nclass App extends React.Component{\n\tconstructor(props){\n\t\tsuper(props)\n\n\t\tthis.state = {}\n\t}\n\n\tcomponentDidMount(){\n\t\t// Authorization and set token\n\t\tif(!!localStorage.getItem(\"token\")){\n\t\t\tauth(localStorage.getItem(\"token\"), res => {\n\t\t\t\tthis.setState({ auth: true, userActive: res.active })\n\t\t\t\tthis.props.addUser(res.login, res.name, res.role, res.active)\n\t\t\t\tthis.props.authUser(!res.error)\n\t\t\t\tlocalStorage.setItem(\"token\", res.jwt)\n\t\t\t}, err => this.setState({ auth: false, userActive: 0 }) )\n\t\t}\n\t\telse{\n\t\t\tthis.props.authUser(false)\n\t\t\tthis.setState({ auth: false, userActive: 0 })\n\t\t}\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Header />\n\t\t\t\t\t<SideBar routes={routes.filter(route => route.isNavBar)} />\n\t\t\t\t\t<NotificationContainer />\n\n\t\t\t\t\t<main>\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t{routes.map(route => {\n\t\t\t\t\t\t\t\tconst component = \n\t\t\t\t\t\t\t\t\troute.isPrivate && (!this.props.auth || !this.props.user.active || route.role_user < this.props.user.role)?\n\t\t\t\t\t\t\t\t\t\tAuthorization(route.component):\n\t\t\t\t\t\t\t\t\t\troute.component\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\tkey={route.path}\n\t\t\t\t\t\t\t\t\tpath={route.path}\n\t\t\t\t\t\t\t\t\tcomponent={component}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</main>\n\t\t\t\t</React.Fragment>\n\t\t\t</Router>\n\t\t)\n\t}\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n\taddUser: (login,  name, role, active) => dispatch(addUser(login,  name, role, active)),\n\tauthUser: (auth) => dispatch(authUser(auth))\n})\n\nconst mapStateToProps = state => ({\n\tuser: state.user,\n\tauth: state.app.authorization\n})\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)","import { NotificationManager } from \"react-notifications\"\r\n\r\nimport { sendDataUsersForSave } from \"../../api\"\r\nimport { ERole, USER } from \"../types\"\r\n\r\n\r\nconst initialStateUser = {\r\n\tlogin: null,\r\n\tname: null,\r\n\trole: ERole.ADMIN,\r\n\tactive: 1,\r\n\tchanges: []\r\n}\r\n\r\nexport const user = (state = initialStateUser, action) => {\r\n\tswitch(action.type){\r\n\t\tcase USER.ADD_USER:\r\n\t\t\treturn {\r\n\t\t\t\t...action.payload,\r\n\t\t\t\tchanges: []\r\n\t\t\t}\r\n\t\tcase USER.DELETE_USER:\r\n\t\t\treturn initialStateUser\r\n\r\n\t\tcase USER.ADD_CHANGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tchanges: [...state.changes, action.payload]\r\n\t\t\t}\r\n\t\tcase USER.SAVE_CHANGES:\r\n\t\t\tsendDataUsersForSave(state.changes, (res) => {\r\n\t\t\t\tif(!res.error) NotificationManager.success(\"Данные сохранены!\", \"OK\", 3000)\r\n\t\t\t\telse NotificationManager.warning(\"Что-то пошло не так\", \"Ошибка\", 3000)\r\n\t\t\t}, err => NotificationManager.warning(\"Кажется, ошибка на сервере\", \"Ошибка\", 3000))\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tchanges: []\r\n\t\t\t}\r\n\t\tdefault: \r\n\t\t\treturn state\r\n\t}\r\n}","import { NotificationManager } from \"react-notifications\"\r\n\r\nimport { APP } from \"../types\"\r\nimport { sendInvoicesChanges } from \"../../api\"\r\n\r\nconst initialStateApp = {\r\n\tauthorization: true,\r\n\tinvoicesChanges: []\r\n}\r\n\r\nexport const app = (state = initialStateApp, action) => {\r\n\tswitch(action.type){\r\n\t\tcase APP.AUTH:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tauthorization: action.payload\r\n\t\t\t}\r\n\t\tcase APP.LOGOUT:\r\n\t\t\tlocalStorage.removeItem(\"token\")\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tauthorization: action.payload\r\n\t\t\t}\r\n\t\tcase APP.INVOICE_ADD_CHANGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinvoicesChanges: [...state.invoicesChanges, action.payload]\r\n\t\t\t}\r\n\t\tcase APP.INVOICE_SAVE_CHANGES:\r\n\t\t\tsendInvoicesChanges(action.payload, state.invoicesChanges, res => {\r\n\t\t\t\tif(res.error) NotificationManager.warning(\"Кажется, ошибка на сервере\", \"Ошибка\", 3000)\r\n\t\t\t\telse NotificationManager.success(\"Данные успешно сохранены\", \"ОК\", 3000)\r\n\t\t\t}, err => NotificationManager.warning(\"Кажется, ошибка на сервере\", \"Ошибка\", 3000))\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinvoicesChanges: []\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import { NotificationManager } from \"react-notifications\"\r\n\r\nimport { sendDataTablesForSave } from \"../../api\"\r\nimport { TABLES } from \"../types\"\r\n\r\nconst initTablesState = {\r\n\tchanges: []\r\n}\r\n\r\nexport const tables = (state = initTablesState, action) => {\r\n\tswitch(action.type){\r\n\t\tcase TABLES.EDIT_CELL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tchanges: [...state.changes, action.payload]\r\n\t\t\t}\r\n\t\tcase TABLES.SAVE_DATA:\r\n\t\t\tsendDataTablesForSave(action.payload.url, state.changes, (res) => {\r\n\t\t\t\tif(!res.error) NotificationManager.success(\"Данные сохранены!\", \"OK\", 3000)\r\n\t\t\t\telse NotificationManager.warning(\"Что-то пошло не так\", \"Ошибка\", 3000)\r\n\t\t\t}, err => NotificationManager.warning(\"Кажется, ошибка на сервере\", \"Ошибка\", 3000))\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tchanges: []\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import { combineReducers } from 'redux'\r\nimport { user } from \"./user.reducer\"\r\nimport { app } from \"./app.reducer\"\r\nimport { tables } from \"./tables.reducer\"\r\n\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n\tapp,\r\n\tuser,\r\n\ttables\r\n})\r\n \r\nexport default rootReducer","import { createStore, applyMiddleware } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nimport rootReducer from './reducers'\r\n\r\n// This middleware will just add the property \"async dispatch\" to all actions\r\nconst asyncDispatchMiddleware = store => next => action => {\r\n\tlet syncActivityFinished = false;\r\n\tlet actionQueue = [];\r\n\r\n\tfunction flushQueue() {\r\n\t\tactionQueue.forEach(a => store.dispatch(a)); // flush queue\r\n\t\tactionQueue = [];\r\n\t}\r\n\r\n\t\tfunction asyncDispatch(asyncAction) {\r\n\t\t\tactionQueue = actionQueue.concat([asyncAction]);\r\n\r\n\t\t\tif (syncActivityFinished)\r\n\t\t\t\tflushQueue();\r\n\t\t}\r\n\r\n\tconst actionWithAsyncDispatch = Object.assign({}, action, { asyncDispatch });\r\n\r\n\tconst res = next(actionWithAsyncDispatch);\r\n\r\n\tsyncActivityFinished = true;\r\n\tflushQueue();\r\n\r\n\treturn res;\r\n};\r\n\r\n\r\nconst composeEnhancers = composeWithDevTools({ \r\n\ttrace: true, \r\n\ttraceLimit: 25 \r\n}); \r\n\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(\r\n\tapplyMiddleware(thunkMiddleware, asyncDispatchMiddleware)\r\n))\r\n\r\n\r\n// The store now has the ability to accept thunk functions in `dispatch`\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from \"react-redux\"\n\nimport App from './App.jsx';\nimport store from \"./redux/store\"\n\nimport \"./styles/reset.scss\"\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}